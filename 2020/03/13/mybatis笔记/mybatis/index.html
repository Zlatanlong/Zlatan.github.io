<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta name="baidu-site-verification" content="WTTWi2XnJ5">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"www.lclong.top","root":"/","scheme":"Gemini","version":"7.7.1","exturl":true,"sidebar":{"position":"left","display":"post","padding":20,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"default"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="ËøôÊòØBÁ´ôÁãÇÁ•ûËØ¥MybatisÊïôÂ≠¶ËßÜÈ¢ëÁöÑÁ¨îËÆ∞ÔºàËΩ¨ËΩΩÔºâËßÜÈ¢ëÂú∞ÂùÄÔºöhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av69742084ÂÆåÊï¥‰ª£Á†ÅÔºàfork‰∫éËØÑËÆ∫Âå∫‰ªìÂ∫ìÔºâ  Âü∫Á°ÄÁü•ËØÜÔºö  JDBC Mysql JavaÂü∫Á°Ä Maven Junit  Ê°ÜÊû∂ÔºöÊòØÊúâÈÖçÁΩÆÊñá‰ª∂ÁöÑ„ÄÇÊúÄÂ•ΩÁöÑÊñπÂºèÔºöÁúãÂÆòÁΩëÊñáÊ°£ 1„ÄÅÁÆÄ‰ªã1.1„ÄÅ‰ªÄ‰πàÊòØMyBatis ÁÆÄ‰ªã‰ªÄ‰πàÊòØ MyBatisÔºü MyBatis ÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊåÅ">
<meta property="og:type" content="article">
<meta property="og:title" content="Mybatis ‰ªéÈõ∂Âà∞‚àû">
<meta property="og:url" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/index.html">
<meta property="og:site_name" content="Zlatanlong&#39;s T-blog">
<meta property="og:description" content="ËøôÊòØBÁ´ôÁãÇÁ•ûËØ¥MybatisÊïôÂ≠¶ËßÜÈ¢ëÁöÑÁ¨îËÆ∞ÔºàËΩ¨ËΩΩÔºâËßÜÈ¢ëÂú∞ÂùÄÔºöhttps:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;av69742084ÂÆåÊï¥‰ª£Á†ÅÔºàfork‰∫éËØÑËÆ∫Âå∫‰ªìÂ∫ìÔºâ  Âü∫Á°ÄÁü•ËØÜÔºö  JDBC Mysql JavaÂü∫Á°Ä Maven Junit  Ê°ÜÊû∂ÔºöÊòØÊúâÈÖçÁΩÆÊñá‰ª∂ÁöÑ„ÄÇÊúÄÂ•ΩÁöÑÊñπÂºèÔºöÁúãÂÆòÁΩëÊñáÊ°£ 1„ÄÅÁÆÄ‰ªã1.1„ÄÅ‰ªÄ‰πàÊòØMyBatis ÁÆÄ‰ªã‰ªÄ‰πàÊòØ MyBatisÔºü MyBatis ÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊåÅ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/mybatis.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/Settings.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/mybatis%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/SqlSessionFactory.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%B5%8B%E8%AF%95%E9%94%99%E8%AF%AF.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%97%A5%E5%BF%97.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191203175719275.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191205141204114.png">
<meta property="og:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191205170549715.png">
<meta property="article:published_time" content="2020-03-13T14:07:03.000Z">
<meta property="article:modified_time" content="2020-03-19T04:22:04.000Z">
<meta property="article:author" content="Zlatanlong">
<meta property="article:tag" content="Mybatis">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/mybatis.png">

<link rel="canonical" href="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Mybatis ‰ªéÈõ∂Âà∞‚àû | Zlatanlong's T-blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zlatanlong's T-blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">Lakers is Championship!</h1>
      
  </div>

  <div class="site-nav-right"></div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>È¶ñÈ°µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>Ê†áÁ≠æ<span class="badge">31</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>ÂàÜÁ±ª<span class="badge">22</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>ÂΩíÊ°£<span class="badge">36</span></a>

  </li>
        <li class="menu-item menu-item-aboutme">

    <a href="/aboutme/" rel="section"><i class="fa fa-fw fa-user"></i>Âçö‰∏ª</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>ÊêúÁ¥¢
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="off"
           placeholder="ÊêúÁ¥¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Zlatanlong">
      <meta itemprop="description" content="ÁîüÊ¥ªÂ∞±ÂÉèÂ∑ßÂÖãÂäõüç´">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zlatanlong's T-blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          Mybatis ‰ªéÈõ∂Âà∞‚àû
        </h2>

        <div class="post-meta">
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-03-13 22:07:03" itemprop="dateCreated datePublished" datetime="2020-03-13T22:07:03+08:00">2020-03-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
                <time title="‰øÆÊîπÊó∂Èó¥Ôºö2020-03-19 12:22:04" itemprop="dateModified" datetime="2020-03-19T12:22:04+08:00">2020-03-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>
                  Ôºå
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/Mybatis/" itemprop="url" rel="index">
                    <span itemprop="name">Mybatis</span>
                  </a>
                </span>
            </span>

          
            <span id="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/" class="post-meta-item leancloud_visitors" data-flag-title="Mybatis ‰ªéÈõ∂Âà∞‚àû" title="ÈòÖËØªÊ¨°Êï∞">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">ÈòÖËØªÊ¨°Êï∞Ôºö</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">ËØÑËÆ∫Ê¨°Êï∞Ôºö</span>
    
    <a title="valine" href="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Êú¨ÊñáÂ≠óÊï∞">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">Êú¨ÊñáÂ≠óÊï∞Ôºö</span>
              <span>30k</span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊó∂Èïø">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">ÈòÖËØªÊó∂Èïø &asymp;</span>
              <span>1:15</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>ËøôÊòØBÁ´ôÁãÇÁ•ûËØ¥MybatisÊïôÂ≠¶ËßÜÈ¢ëÁöÑÁ¨îËÆ∞ÔºàËΩ¨ËΩΩÔºâ<br>ËßÜÈ¢ëÂú∞ÂùÄÔºö<span class="exturl" data-url="aHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tL3ZpZGVvL2F2Njk3NDIwODQ=" title="https://www.bilibili.com/video/av69742084">https://www.bilibili.com/video/av69742084<i class="fa fa-external-link"></i></span><br><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL1psYXRhbmxvbmcvbXliYXRpcy1zdHVkeQ==" title="https://github.com/Zlatanlong/mybatis-study">ÂÆåÊï¥‰ª£Á†Å<i class="fa fa-external-link"></i></span>Ôºàfork‰∫éËØÑËÆ∫Âå∫‰ªìÂ∫ìÔºâ</p>
</blockquote>
<p>Âü∫Á°ÄÁü•ËØÜÔºö</p>
<ul>
<li>JDBC</li>
<li>Mysql</li>
<li>JavaÂü∫Á°Ä</li>
<li>Maven</li>
<li>Junit</li>
</ul>
<p>Ê°ÜÊû∂ÔºöÊòØÊúâÈÖçÁΩÆÊñá‰ª∂ÁöÑ„ÄÇÊúÄÂ•ΩÁöÑÊñπÂºèÔºöÁúãÂÆòÁΩëÊñáÊ°£</p>
<h1 id="1„ÄÅÁÆÄ‰ªã"><a href="#1„ÄÅÁÆÄ‰ªã" class="headerlink" title="1„ÄÅÁÆÄ‰ªã"></a>1„ÄÅÁÆÄ‰ªã</h1><h2 id="1-1„ÄÅ‰ªÄ‰πàÊòØMyBatis"><a href="#1-1„ÄÅ‰ªÄ‰πàÊòØMyBatis" class="headerlink" title="1.1„ÄÅ‰ªÄ‰πàÊòØMyBatis"></a>1.1„ÄÅ‰ªÄ‰πàÊòØMyBatis</h2><p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/mybatis.png" alt="mybatis"></p>
<h2 id="ÁÆÄ‰ªã"><a href="#ÁÆÄ‰ªã" class="headerlink" title="ÁÆÄ‰ªã"></a>ÁÆÄ‰ªã</h2><h3 id="‰ªÄ‰πàÊòØ-MyBatisÔºü"><a href="#‰ªÄ‰πàÊòØ-MyBatisÔºü" class="headerlink" title="‰ªÄ‰πàÊòØ MyBatisÔºü"></a>‰ªÄ‰πàÊòØ MyBatisÔºü</h3><ul>
<li>MyBatis ÊòØ‰∏ÄÊ¨æ‰ºòÁßÄÁöÑÊåÅ‰πÖÂ±ÇÊ°ÜÊû∂</li>
<li>ÂÆÉÊîØÊåÅÂÆöÂà∂Âåñ SQL„ÄÅÂ≠òÂÇ®ËøáÁ®ã‰ª•ÂèäÈ´òÁ∫ßÊò†Â∞Ñ„ÄÇ</li>
<li>MyBatis ÈÅøÂÖç‰∫ÜÂá†‰πéÊâÄÊúâÁöÑ JDBC ‰ª£Á†ÅÂíåÊâãÂä®ËÆæÁΩÆÂèÇÊï∞‰ª•ÂèäËé∑ÂèñÁªìÊûúÈõÜ„ÄÇ</li>
<li>MyBatis ÂèØ‰ª•‰ΩøÁî®ÁÆÄÂçïÁöÑ XML ÊàñÊ≥®Ëß£Êù•ÈÖçÁΩÆÂíåÊò†Â∞ÑÂéüÁîüÁ±ªÂûã„ÄÅÊé•Âè£Âíå Java ÁöÑ POJOÔºàPlain Old Java ObjectsÔºåÊôÆÈÄöËÄÅÂºè Java ÂØπË±°Ôºâ‰∏∫Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑËÆ∞ÂΩï„ÄÇ</li>
</ul>
<p>Â¶Ç‰ΩïËé∑ÂæóMyBatisÔºü</p>
<ul>
<li>Maven‰ªìÂ∫ì</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis/mybatis --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>githubÔºö<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL215YmF0aXMvbXliYXRpcy0zL3JlbGVhc2Vz" title="https://github.com/mybatis/mybatis-3/releases">https://github.com/mybatis/mybatis-3/releases<i class="fa fa-external-link"></i></span></p>
</li>
<li><p>‰∏≠ÊñáÊñáÊ°£Ôºö<span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvaW5kZXguaHRtbA==" title="https://mybatis.org/mybatis-3/zh/index.html">https://mybatis.org/mybatis-3/zh/index.html<i class="fa fa-external-link"></i></span></p>
</li>
</ul>
<a id="more"></a>

<h2 id="1-2„ÄÅÊåÅ‰πÖÂåñ"><a href="#1-2„ÄÅÊåÅ‰πÖÂåñ" class="headerlink" title="1.2„ÄÅÊåÅ‰πÖÂåñ"></a>1.2„ÄÅÊåÅ‰πÖÂåñ</h2><p>Êï∞ÊçÆÊåÅ‰πÖÂåñ</p>
<ul>
<li>ÊåÅ‰πÖÂåñÂ∞±ÊòØÂ∞ÜÁ®ãÂ∫èÁöÑÊï∞ÊçÆÂú®ÊåÅ‰πÖÁä∂ÊÄÅÂíåÁû¨Êó∂Áä∂ÊÄÅËΩ¨ÂåñÁöÑËøáÁ®ã</li>
<li>ÂÜÖÂ≠òÔºö<strong>Êñ≠ÁîµÂç≥Â§±</strong></li>
<li>Êï∞ÊçÆÂ∫ì(JDBC),ioÊñá‰ª∂ÊåÅ‰πÖÂåñ„ÄÇ</li>
<li>ÁîüÊ¥ªÔºöÂÜ∑Ëóè„ÄÅÁΩêÂ§¥„ÄÇ</li>
</ul>
<p><strong>‰∏∫‰ªÄ‰πàÈúÄË¶ÅÊåÅ‰πÖÂåñÔºü</strong></p>
<ul>
<li>Êúâ‰∏Ä‰∫õÂØπË±°Ôºå‰∏çËÉΩËÆ©‰ªñ‰∏¢Êéâ„ÄÇ</li>
</ul>
<h2 id="1-3„ÄÅÊåÅ‰πÖÂ±Ç"><a href="#1-3„ÄÅÊåÅ‰πÖÂ±Ç" class="headerlink" title="1.3„ÄÅÊåÅ‰πÖÂ±Ç"></a>1.3„ÄÅÊåÅ‰πÖÂ±Ç</h2><p>DaoÂ±Ç„ÄÅServiceÂ±Ç„ÄÅControllerÂ±Ç‚Ä¶..</p>
<ul>
<li>ÂÆåÊàêÊåÅ‰πÖÂåñÂ∑•‰ΩúÁöÑ‰ª£Á†ÅÂùó</li>
<li>Â±ÇÁïåÈôêÂçÅÂàÜÊòéÊòæ</li>
</ul>
<h2 id="1-4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü"><a href="#1-4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü" class="headerlink" title="1.4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü"></a>1.4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü</h2><ul>
<li><p>Â∏ÆÂä©Á®ãÂ∫èÂëòÂ∞ÜÊï∞ÊçÆÂ≠òÂÖ•Âà∞Êï∞ÊçÆÂ∫ì‰∏≠„ÄÇ</p>
</li>
<li><p>Êñπ‰æø</p>
</li>
<li><p>‰º†ÁªüÁöÑJDBC‰ª£Á†ÅÂ§™Â§çÊùÇ‰∫Ü„ÄÇÁÆÄÂåñ„ÄÅÊ°ÜÊû∂„ÄÅËá™Âä®Âåñ„ÄÇ</p>
</li>
<li><p>‰∏çÁî®Mybatis‰πüÂèØ‰ª•„ÄÇÊõ¥ÂÆπÊòì‰∏äÊâã„ÄÇ<strong>ÊäÄÊúØÊ≤°ÊúâÈ´ò‰Ωé‰πãÂàÜ</strong></p>
</li>
<li><p>‰ºòÁÇπÔºö</p>
<ul>
<li>ÁÆÄÂçïÊòìÂ≠¶</li>
<li>ÁÅµÊ¥ª</li>
<li>sqlÂíå‰ª£Á†ÅÁöÑÂàÜÁ¶ªÔºåÊèêÈ´ò‰∫ÜÂèØÁª¥Êä§ÊÄß„ÄÇ</li>
<li>Êèê‰æõÊò†Â∞ÑÊ†áÁ≠æÔºåÊîØÊåÅÂØπË±°‰∏éÊï∞ÊçÆÂ∫ìÁöÑormÂ≠óÊÆµÂÖ≥Á≥ªÊò†Â∞Ñ</li>
<li>Êèê‰æõÂØπË±°ÂÖ≥Á≥ªÊò†Â∞ÑÊ†áÁ≠æÔºåÊîØÊåÅÂØπË±°ÂÖ≥Á≥ªÁªÑÂª∫Áª¥Êä§</li>
<li>Êèê‰æõxmlÊ†áÁ≠æÔºåÊîØÊåÅÁºñÂÜôÂä®ÊÄÅsql„ÄÇ</li>
</ul>
</li>
</ul>
<p>  <strong>ÊúÄÈáçË¶ÅÁöÑ‰∏ÄÁÇπÔºö‰ΩøÁî®ÁöÑ‰∫∫Â§öÔºÅ</strong></p>
<p>  Spring SpringMVC SpringBoot</p>
<h1 id="2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è"><a href="#2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è" class="headerlink" title="2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è"></a>2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è</h1><p>ÊÄùË∑ØÔºöÊê≠Âª∫ÁéØÂ¢É‚Äì&gt;ÂØºÂÖ•Mybatis‚Äì&gt;ÁºñÂÜô‰ª£Á†Å‚Äì&gt;ÊµãËØïÔºÅ</p>
<h2 id="2-1„ÄÅÊê≠Âª∫ÁéØÂ¢É"><a href="#2-1„ÄÅÊê≠Âª∫ÁéØÂ¢É" class="headerlink" title="2.1„ÄÅÊê≠Âª∫ÁéØÂ¢É"></a>2.1„ÄÅÊê≠Âª∫ÁéØÂ¢É</h2><p>Êê≠Âª∫Êï∞ÊçÆÂ∫ì</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`mybatis`</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="string">`mybatis`</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`user`</span>(</span><br><span class="line"><span class="string">`id`</span> <span class="built_in">INT</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line"><span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"><span class="string">`pwd`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span></span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`user`</span> (<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`pwd`</span>) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">'ÁãÇÁ•û'</span>,<span class="string">'123456'</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">'Âº†‰∏â'</span>,<span class="string">'123456'</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">'ÊùéÂõõ'</span>,<span class="string">'123890'</span>)</span><br></pre></td></tr></table></figure>

<p>Êñ∞Âª∫È°πÁõÆ</p>
<ol>
<li>Êñ∞Âª∫‰∏Ä‰∏™ÊôÆÈÄöÁöÑmavenÈ°πÁõÆ</li>
<li>Âà†Èô§srcÁõÆÂΩï</li>
<li>ÂØºÂÖ•maven‰æùËµñ</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;project xmlns=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span><br><span class="line">         xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span><br><span class="line">    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--Áà∂Â∑•Á®ã--&gt;</span><br><span class="line">    &lt;groupId&gt;com.rui&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;MyBatis-Study&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--ÂØºÂÖ•‰æùËµñ--&gt;</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;!--mysqlÈ©±Âä®--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;mysql&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;5.1.46&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--mybatis--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;3.5.2&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;!--junit--&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;junit&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;junit&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;4.12&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Âú®build‰∏≠ÈÖçÁΩÆresourcesÔºåÊù•Èò≤Ê≠¢Êàë‰ª¨ËµÑÊ∫êÂØºÂá∫Â§±Ë¥•ÁöÑÈóÆÈ¢ò--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="2-2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó"><a href="#2-2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó" class="headerlink" title="2.2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó"></a>2.2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó</h2><ul>
<li><p>ÁºñÂÜômybatisÁöÑÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--configurationÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--environmentsÈÖçÁΩÆÁéØÂ¢ÉÁªÑ--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--defaultÈªòËÆ§ÁéØÂ¢É--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--environmentÂçï‰∏™ÁéØÂ¢É--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">"development"</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--transactionManagerÈÖçÁΩÆ‰∫ãÂä°ÁÆ°ÁêÜÂô®--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">"JDBC"</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--ÈÖçÁΩÆËøûÊé•Ê±†--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">"POOLED"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driver"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql://localhost:3306/mybatis?useSSL=true<span class="symbol">&amp;amp;</span>useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UFT-8"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"Ëá™Â∑±ÁöÑË¥¶Âè∑"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"Ëá™Â∑±ÁöÑÂØÜÁ†Å"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÁºñÂÜômybatisÂ∑•ÂÖ∑Á±ª</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rui.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">//sqlSessionFactory---&gt;SessionFactory</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisUtils</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">//‰ΩøÁî®mybatisÁ¨¨‰∏ÄÊ≠•„ÄÅËé∑ÂèñsqlSessionFactoryÂØπË±°</span></span><br><span class="line">            String resource = <span class="string">"mybatis-config.xml"</span>;</span><br><span class="line">            InputStream inputStream = Resources.getResourceAsStream(resource);</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(inputStream);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Êó¢ÁÑ∂Êúâ‰∫Ü SqlSessionFactoryÔºåÈ°æÂêçÊÄù‰πâÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•‰ªé‰∏≠Ëé∑Âæó SqlSession ÁöÑÂÆû‰æã‰∫Ü„ÄÇ</span></span><br><span class="line">    <span class="comment">// SqlSession ÂÆåÂÖ®ÂåÖÂê´‰∫ÜÈù¢ÂêëÊï∞ÊçÆÂ∫ìÊâßË°å SQL ÂëΩ‰ª§ÊâÄÈúÄÁöÑÊâÄÊúâÊñπÊ≥ï„ÄÇ</span></span><br><span class="line">    <span class="comment">// ‰Ω†ÂèØ‰ª•ÈÄöËøá SqlSession ÂÆû‰æãÊù•Áõ¥Êé•ÊâßË°åÂ∑≤Êò†Â∞ÑÁöÑ SQL ËØ≠Âè•„ÄÇ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="2-3„ÄÅÁºñÂÜô‰ª£Á†Å"><a href="#2-3„ÄÅÁºñÂÜô‰ª£Á†Å" class="headerlink" title="2.3„ÄÅÁºñÂÜô‰ª£Á†Å"></a>2.3„ÄÅÁºñÂÜô‰ª£Á†Å</h2><ul>
<li><p>ÂÆû‰ΩìÁ±ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rui.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">user</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String pwd;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">user</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">user</span><span class="params">(<span class="keyword">int</span> id, String name, String pwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPwd</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPwd</span><span class="params">(String pwd)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pwd = pwd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"user&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", pwd='"</span> + pwd + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>DaoÊé•Âè£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rui.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rui.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getUserList</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Êé•Âè£ÂÆûÁé∞Á±ªÁî±ÂéüÊù•ÁöÑUserImplËΩ¨Âèò‰∏∫‰∏Ä‰∏™MapperÈÖçÁΩÆÊñá‰ª∂</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Mapper 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--namespace=ÁªëÂÆö‰∏Ä‰∏™ÂØπÂ∫îÁöÑmapperÊé•Âè£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.rui.dao.UserDao"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--selectÊü•ËØ¢ËØ≠Âè•--&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserList"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.User"</span>&gt;</span></span><br><span class="line">       /*ÂÆö‰πâsql*/</span><br><span class="line">       select * from mybatis.user</span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="2-4„ÄÅÊµãËØï"><a href="#2-4„ÄÅÊµãËØï" class="headerlink" title="2.4„ÄÅÊµãËØï"></a>2.4„ÄÅÊµãËØï</h2><p> Ê≥®ÊÑèÁÇπÔºö</p>
<p>org.apache.ibatis.binding.BindingException: Type interface com.rui.dao.UserDao is not known to the MapperRegistry.</p>
<p>MapperRegistryÊòØ‰ªÄ‰πà?</p>
<p>Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠Ê≥®ÂÜåmappers</p>
<ul>
<li><p>junitÊµãËØï</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rui;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rui.dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> com.rui.pojo.User;</span><br><span class="line"><span class="keyword">import</span> com.rui.utils.MyBatisUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//Á¨¨‰∏ÄÊ≠•ÔºöËé∑ÂæóSqlSessionÂØπË±°</span></span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">        <span class="comment">//ÊâßË°åSQL</span></span><br><span class="line">        UserDao mapper = sqlSession.getMapper(UserDao<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        List&lt;User&gt; userList = mapper.getUserList();</span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//ÂÖ≥Èó≠SqlSession</span></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ÂèØËÉΩ‰ºöÈÅáÂà∞ÁöÑÈóÆÈ¢òÔºö</p>
<ol>
<li>ÈÖçÁΩÆÊñá‰ª∂Ê≤°ÊúâÊ≥®ÂÜå</li>
<li>ÁªëÂÆöÊé•Âè£ÈîôËØØ</li>
<li>ÊñπÊ≥ïÂêç‰∏çÂØπ</li>
<li>ËøîÂõûÁ±ªÂûã‰∏çÂØπ</li>
<li>==MavenÂØºÂá∫ËµÑÊ∫êÈóÆÈ¢ò==</li>
</ol>
</li>
</ul>
<h1 id="3„ÄÅCRUD"><a href="#3„ÄÅCRUD" class="headerlink" title="3„ÄÅCRUD"></a>3„ÄÅCRUD</h1><h2 id="1„ÄÅnamespace"><a href="#1„ÄÅnamespace" class="headerlink" title="1„ÄÅnamespace"></a>1„ÄÅnamespace</h2><p>namespace‰∏≠ÁöÑÂåÖÂêçË¶ÅÂíåDao/mapperÊé•Âè£ÁöÑÂåÖÂêç‰øùÊåÅ‰∏ÄËá¥</p>
<h2 id="2„ÄÅselect"><a href="#2„ÄÅselect" class="headerlink" title="2„ÄÅselect"></a>2„ÄÅselect</h2><p>ÈÄâÊã©Êü•ËØ¢ËØ≠Âè•Ôºõ</p>
<ul>
<li><code>id</code>ÔºöÂ∞±ÊòØÂØπÂ∫îÁöÑnamespace‰∏≠ÁöÑÊñπÊ≥ïÂêçÔºõ</li>
<li><code>resultType</code>ÔºöSqlËØ≠Âè•ÊâßË°åÁöÑËøîÂõûÂÄºÔºÅ</li>
<li><code>parameterType</code>ÔºöÂèÇÊï∞Á±ªÂûãÔºÅ</li>
</ul>
<ol>
<li><p>ÁºñÂÜôÊé•Âè£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.rui.dao;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.rui.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Ê†πÊçÆidÊü•ËØ¢Áî®Êà∑</span></span><br><span class="line">    <span class="function">User <span class="title">getUserById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ÁºñÂÜôÂØπÂ∫îÁöÑmapper‰∏≠ÁöÑsqlËØ≠Âè•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserById"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.User"</span> <span class="attr">parameterType</span>=<span class="string">"int"</span>&gt;</span></span><br><span class="line">       /*ÂÆö‰πâsql*/</span><br><span class="line">       select * from mybatis.user where id = #&#123;id&#125;;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊµãËØï <!--Â¢ûÂà†ÊîπÈúÄË¶ÅÊèê‰∫§‰∫ãÂä°--></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserById</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">    UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    User user = mapper.getUserById(<span class="number">1</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h2 id="3„ÄÅInsert"><a href="#3„ÄÅInsert" class="headerlink" title="3„ÄÅInsert"></a>3„ÄÅInsert</h2><h2 id="4„ÄÅUpdate"><a href="#4„ÄÅUpdate" class="headerlink" title="4„ÄÅUpdate"></a>4„ÄÅUpdate</h2><h2 id="5„ÄÅDelete"><a href="#5„ÄÅDelete" class="headerlink" title="5„ÄÅDelete"></a>5„ÄÅDelete</h2><p>==<strong>Ê≥®ÊÑèÁÇπÔºöÂ¢ûÂà†ÊîπÈúÄË¶ÅÊèê‰∫§‰∫ãÂä°</strong>==</p>
<h2 id="6„ÄÅÂàÜÊûêÈîôËØØ"><a href="#6„ÄÅÂàÜÊûêÈîôËØØ" class="headerlink" title="6„ÄÅÂàÜÊûêÈîôËØØ"></a>6„ÄÅÂàÜÊûêÈîôËØØ</h2><ul>
<li>Ê†áÁ≠æ‰∏çË¶ÅÂåπÈÖçÈîôËØØ</li>
<li>resourceÁªëÂÆömapperÔºåÈúÄË¶Å‰ΩøÁî®Ë∑ØÂæÑÔºÅ</li>
<li>Á®ãÂ∫èÈÖçÁΩÆÊñá‰ª∂ÂøÖÈ°ªÁ¨¶ÂêàËßÑËåÉ</li>
<li>NullPointerExceptionÔºåÊ≤°ÊúâÊ≥®ÂÜåÂà∞ËµÑÊ∫ê</li>
<li>ËæìÂá∫ÁöÑxmlÊñá‰ª∂‰∏≠Â≠òÂú®‰∏≠Êñá‰π±Á†ÅÈóÆÈ¢ò</li>
<li>mavenËµÑÊ∫êÊ≤°ÊúâÂØºÂá∫ÈóÆÈ¢ò</li>
</ul>
<h2 id="7„ÄÅ‰∏áËÉΩMap"><a href="#7„ÄÅ‰∏áËÉΩMap" class="headerlink" title="7„ÄÅ‰∏áËÉΩMap"></a>7„ÄÅ‰∏áËÉΩMap</h2><p>ÂÅáËÆæÔºåÊàë‰ª¨ÁöÑÂÆû‰ΩìÁ±ªÔºåÊàñËÄÖÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑË°®ÔºåÂ≠óÊÆµÊàñËÄÖÂèÇÊï∞ËøáÂ§öÔºåÊàë‰ª¨Â∫îÂΩìËÄÉËôë‰ΩøÁî®MapÔºÅ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//‰∏áËÉΩMap</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addUser2</span><span class="params">(Map&lt;String,Object&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂØπË±°‰∏≠ÁöÑÂ±ûÊÄßÔºåÂèØ‰ª•Áõ¥Êé•ÂèñÂá∫Êù• parameterType=‰º†ÈÄímap‰∏≠ÁöÑkey--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"addUser2"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">    insert into mybatis.user (id, name, pwd) values (#&#123;userId&#125;,#&#123;userName&#125;,#&#123;password&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//‰∏áËÉΩmap</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addUser2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"userId"</span>,<span class="number">4</span>);</span><br><span class="line">        map.put(<span class="string">"userName"</span>,<span class="string">"Áéã‰∫î"</span>);</span><br><span class="line">        map.put(<span class="string">"password"</span>,<span class="string">"23333"</span>);</span><br><span class="line">        mapper.addUser2(map);</span><br><span class="line">        <span class="comment">//Êèê‰∫§‰∫ãÂä°</span></span><br><span class="line">        sqlSession.commit();</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>Map‰º†ÈÄíÂèÇÊï∞ÔºåÁõ¥Êé•Âú®sql‰∏≠ÂèñÂá∫keyÂç≥ÂèØÔºÅ„ÄêparameterType=‚Äùmap‚Äù„Äë</p>
<p>ÂØπË±°‰º†ÈÄíÂèÇÊï∞ÔºåÁõ¥Êé•Âú®sql‰∏≠ÂèñÂØπË±°ÁöÑÂ±ûÊÄßÂç≥ÂèØÔºÅ„ÄêparameterType=‚ÄùObject‚Äù„Äë</p>
<p>Âè™Êúâ‰∏Ä‰∏™Âü∫Êú¨Á±ªÂûãÂèÇÊï∞ÁöÑÊÉÖÂÜµ‰∏ãÔºåÂèØ‰ª•Áõ¥Êé•Âú®sql‰∏≠ÂèñÂà∞ÔºÅ</p>
<p>Â§ö‰∏™ÂèÇÊï∞Áî®MapÔºå<strong>ÊàñËÄÖÊ≥®Ëß£ÔºÅ</strong></p>
<h2 id="8„ÄÅÊÄùËÄÉ"><a href="#8„ÄÅÊÄùËÄÉ" class="headerlink" title="8„ÄÅÊÄùËÄÉ"></a>8„ÄÅÊÄùËÄÉ</h2><p>Ê®°Á≥äÊü•ËØ¢ÊÄé‰πàÂÜôÔºü</p>
<ol>
<li><p>Java‰ª£Á†ÅÊâßË°åÁöÑÊó∂ÂÄô‰º†ÈÄíÈÄöÈÖçÁ¨¶%%</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;User&gt; userList=mapper.getUserLike(<span class="string">"%Êùé%"</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Âú®sqlÊãºÊé•‰∏≠‰ΩøÁî®ÈÄöÈÖçÁ¨¶ÔºÅ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> mybatis.user <span class="keyword">where</span> <span class="keyword">name</span> <span class="keyword">like</span> <span class="string">"%"</span><span class="comment">#&#123;value&#125;"%"</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<h1 id="4„ÄÅÈÖçÁΩÆËß£Êûê"><a href="#4„ÄÅÈÖçÁΩÆËß£Êûê" class="headerlink" title="4„ÄÅÈÖçÁΩÆËß£Êûê"></a>4„ÄÅÈÖçÁΩÆËß£Êûê</h1><h2 id="1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂"><a href="#1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂" class="headerlink" title="1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂"></a>1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</h2><ul>
<li>mybatis-config.xml</li>
<li>MyBatisÁöÑÈÖçÁΩÆÊñá‰ª∂ÂåÖÂê´‰∫Ü‰ºöÊ∑±Ê∑±ÂΩ±ÂìçMyBatisË°å‰∏∫ÁöÑËÆæÁΩÆÂíåÂ±ûÊÄß‰ø°ÊÅØ</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">configurationÔºàÈÖçÁΩÆÔºâ</span><br><span class="line">propertiesÔºàÂ±ûÊÄßÔºâ</span><br><span class="line">settingsÔºàËÆæÁΩÆÔºâ</span><br><span class="line">typeAliasesÔºàÁ±ªÂûãÂà´ÂêçÔºâ</span><br><span class="line">typeHandlersÔºàÁ±ªÂûãÂ§ÑÁêÜÂô®Ôºâ</span><br><span class="line">objectFactoryÔºàÂØπË±°Â∑•ÂéÇÔºâ</span><br><span class="line">pluginsÔºàÊèí‰ª∂Ôºâ</span><br><span class="line">environmentsÔºàÁéØÂ¢ÉÈÖçÁΩÆÔºâ</span><br><span class="line">environmentÔºàÁéØÂ¢ÉÂèòÈáèÔºâ</span><br><span class="line">transactionManagerÔºà‰∫ãÂä°ÁÆ°ÁêÜÂô®Ôºâ</span><br><span class="line">dataSourceÔºàÊï∞ÊçÆÊ∫êÔºâ</span><br><span class="line">databaseIdProviderÔºàÊï∞ÊçÆÂ∫ìÂéÇÂïÜÊ†áËØÜÔºâ</span><br><span class="line">mappersÔºàÊò†Â∞ÑÂô®Ôºâ</span><br></pre></td></tr></table></figure>

<h2 id="2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ"><a href="#2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ" class="headerlink" title="2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ"></a>2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ</h2><p>MyBatis ÂèØ‰ª•ÈÖçÁΩÆÊàêÈÄÇÂ∫îÂ§öÁßçÁéØÂ¢É</p>
<p><strong>‰∏çËøáË¶ÅËÆ∞‰ΩèÔºöÂ∞ΩÁÆ°ÂèØ‰ª•ÈÖçÁΩÆÂ§ö‰∏™ÁéØÂ¢ÉÔºå‰ΩÜÊØè‰∏™ SqlSessionFactory ÂÆû‰æãÂè™ËÉΩÈÄâÊã©‰∏ÄÁßçÁéØÂ¢É„ÄÇ</strong></p>
<p>Â≠¶‰ºö‰ΩøÁî®ÈÖçÁΩÆÂ§öÂ•óËøêË°åÁéØÂ¢ÉÔºÅ</p>
<p>MyBatisÈªòËÆ§ÁöÑ‰∫ãÂä°ÁÆ°ÁêÜÂô®Â∞±ÊòØJDBCÔºåËøûÊé•Ê±†ÔºöPOOLED</p>
<h2 id="3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ"><a href="#3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ" class="headerlink" title="3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ"></a>3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ</h2><p>Êàë‰ª¨ÂèØ‰ª•ÈÄöËøápropertiesÂ±ûÊÄßÊù•ÂÆûÁé∞ÂºïÁî®ÈÖçÁΩÆÊñá‰ª∂</p>
<p>Ëøô‰∫õÂ±ûÊÄßÈÉΩÊòØÂèØÂ§ñÈÉ®ÈÖçÁΩÆ‰∏îÂèØÂä®ÊÄÅÊõøÊç¢ÁöÑÔºåÊó¢ÂèØ‰ª•Âú®ÂÖ∏ÂûãÁöÑ Java Â±ûÊÄßÊñá‰ª∂‰∏≠ÈÖçÁΩÆÔºå‰∫¶ÂèØÈÄöËøá properties ÂÖÉÁ¥†ÁöÑÂ≠êÂÖÉÁ¥†Êù•‰º†ÈÄí„ÄÇ„Äêdb.properties„Äë</p>
<p>ÁºñÂÜô‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂</p>
<p>db.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis?</span></span><br><span class="line"><span class="attr">useSSL</span>=<span class="string">true&amp;useUnicode=true&amp;characterEncoding=utf8</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">Cc105481</span></span><br></pre></td></tr></table></figure>



<p>Âú®Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂºïÂÖ•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂºïÂÖ•Â§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">"db.properties"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"Cc105481"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>ÂèØ‰ª•Áõ¥Êé•ÂºïÂÖ•Â§ñÈÉ®Êñá‰ª∂</li>
<li>ÂèØ‰ª•Âú®ÂÖ∂‰∏≠Â¢ûÂä†‰∏Ä‰∫õÂ±ûÊÄßÈÖçÁΩÆ</li>
<li>Â¶ÇÊûú‰∏§‰∏™Êñá‰ª∂ÊúâÂêå‰∏ÄÂ≠óÊÆµÔºå‰ºòÂÖà‰ΩøÁî®Â§ñÈÉ®ÈÖçÁΩÆÊñá‰ª∂ÁöÑÔºÅ</li>
</ul>
<h2 id="4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ"><a href="#4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ" class="headerlink" title="4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ"></a>4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ</h2><ul>
<li>Á±ªÂûãÂà´ÂêçÊòØ‰∏∫ Java Á±ªÂûãËÆæÁΩÆ‰∏Ä‰∏™Áü≠ÁöÑÂêçÂ≠ó„ÄÇ</li>
<li>Â≠òÂú®ÁöÑÊÑè‰πâ‰ªÖÂú®‰∫éÁî®Êù•ÂáèÂ∞ëÁ±ªÂÆåÂÖ®ÈôêÂÆöÂêçÁöÑÂÜó‰Ωô„ÄÇ</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂèØ‰ª•ÁªôÂÆû‰ΩìÁ±ªËµ∑Âà´Âêç--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">"com.rui.pojo.User"</span> <span class="attr">alias</span>=<span class="string">"User"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>‰πüÂèØ‰ª•ÊåáÂÆö‰∏Ä‰∏™ÂåÖÂêçÔºåMyBatis ‰ºöÂú®ÂåÖÂêç‰∏ãÈù¢ÊêúÁ¥¢ÈúÄË¶ÅÁöÑ Java Bean,ÊØîÂ¶ÇÔºö</p>
<p>Êâ´ÊèèÂÆû‰ΩìÁ±ªÁöÑÂåÖÔºå‰ªñÁöÑÈªòËÆ§Âà´ÂêçÂ∞±‰∏∫Ëøô‰∏™Á±ªÁöÑÁ±ªÂêçÔºåÈ¶ñÂ≠óÊØçÂ∞èÂÜôÔºÅ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂèØ‰ª•ÁªôÂÆû‰ΩìÁ±ªËµ∑Âà´Âêç--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"com.rui.pojo"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p>Âú®ÂÆû‰ΩìÁ±ªÊØîËæÉÂ∞ëÁöÑÊó∂ÂÄôÔºå‰ΩøÁî®Á¨¨‰∏ÄÁßçÊñπÂºè„ÄÇ</p>
<p>Â¶ÇÊûúÂÆû‰ΩìÁ±ªÂçÅÂàÜÂ§öÔºåÂª∫ËÆÆ‰ΩøÁî®Á¨¨‰∫åÁßçÊñπÂºè„ÄÇ</p>
<p>Á¨¨‰∏ÄÁßçÂèØ‰ª•DIYÂà´ÂêçÔºåÁ¨¨‰∫åÁßçÂàô‰∏çË°åÔºåÂ¶ÇÊûúÈùûË¶ÅÊîπÔºåÈúÄË¶ÅÂú®ÂÆû‰ΩìÁ±ªÔºàpojoÔºâ‰∏äÂ¢ûÂä†@AliasÊ≥®Ëß£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Alias</span>(<span class="string">"author"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Author</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="5„ÄÅËÆæÁΩÆ"><a href="#5„ÄÅËÆæÁΩÆ" class="headerlink" title="5„ÄÅËÆæÁΩÆ"></a>5„ÄÅËÆæÁΩÆ</h2><p>ËøôÊòØ MyBatis ‰∏≠ÊûÅ‰∏∫ÈáçË¶ÅÁöÑË∞ÉÊï¥ËÆæÁΩÆÔºåÂÆÉ‰ª¨‰ºöÊîπÂèò MyBatis ÁöÑËøêË°åÊó∂Ë°å‰∏∫„ÄÇ</p>
<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/Settings.png" alt="Settings"></p>
<h2 id="6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü"><a href="#6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü" class="headerlink" title="6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü"></a>6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü</h2><p>ÁîüÂëΩÂë®ÊúüÔºåÂíå‰ΩúÁî®ÂüüÊòØËá≥ÂÖ≥ÈáçË¶ÅÁöÑÔºåÂõ†‰∏∫ÈîôËØØÁöÑ‰ΩøÁî®‰ºöÂØºËá¥ÈùûÂ∏∏‰∏•ÈáçÁöÑ<strong>Âπ∂ÂèëÈóÆÈ¢ò</strong>„ÄÇ</p>
<p><strong>SqlSessionFactoryBuilder</strong></p>
<ul>
<li>‰∏ÄÊó¶ÂàõÂª∫‰∫ÜSqlSessionFactoryÔºåÂ∞±‰∏çÂÜçÈúÄË¶ÅÂÆÉ‰∫Ü</li>
<li>Â±ÄÈÉ®ÂèòÈáè</li>
</ul>
<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/mybatis%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B.png" alt="mybatisËøêË°åÊµÅÁ®ã"><strong>SqlSessionFactoryÔºö</strong></p>
<ul>
<li>ÂèØ‰ª•ÊÉ≥Ë±°‰∏∫ÔºöÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†</li>
<li>SqlSessionFactory ‰∏ÄÊó¶Ë¢´ÂàõÂª∫Â∞±Â∫îËØ•Âú®Â∫îÁî®ÁöÑËøêË°åÊúüÈó¥‰∏ÄÁõ¥Â≠òÂú®Ôºå<strong>Ê≤°Êúâ‰ªª‰ΩïÁêÜÁî±‰∏¢ÂºÉÂÆÉÊàñÈáçÊñ∞ÂàõÂª∫Âè¶‰∏Ä‰∏™ÂÆû‰æã</strong>„ÄÇ</li>
<li>Âõ†Ê≠§SqlSessionFactoryÁöÑÊúÄ‰Ω≥‰ΩúÁî®ÂüüÊòØÂ∫îÁî®‰ΩúÁî®Âüü„ÄÇ</li>
<li>ÊúÄÁÆÄÂçïÁöÑÂ∞±ÊòØ‰ΩøÁî® <strong>Âçï‰æãÊ®°Âºè</strong> ÊàñËÄÖÈùôÊÄÅÂçï‰æãÊ®°Âºè</li>
</ul>
<p><strong>SqlSession</strong></p>
<ul>
<li><p>ËøûÊé•Âà∞ËøûÊé•Ê±†ÁöÑ‰∏Ä‰∏™ËØ∑Ê±ÇÔºÅ</p>
</li>
<li><p>SqlSession ÁöÑÂÆû‰æã‰∏çÊòØÁ∫øÁ®ãÂÆâÂÖ®ÁöÑÔºåÂõ†Ê≠§ÊòØ‰∏çËÉΩË¢´ÂÖ±‰∫´ÁöÑÔºåÊâÄ‰ª•ÂÆÉÁöÑÊúÄ‰Ω≥ÁöÑ‰ΩúÁî®ÂüüÊòØËØ∑Ê±ÇÊàñÊñπÊ≥ï‰ΩúÁî®Âüü„ÄÇ</p>
</li>
<li><p>Áî®ÂÆå‰πãÂêéÈúÄË¶ÅËµ∂Á¥ßÂÖ≥Èó≠ÔºåÂê¶Âàô‰ºöÂç†Áî®ËµÑÊ∫ê</p>
<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/SqlSessionFactory.png" alt="SqlSessionFactory"></p>
</li>
</ul>
<p>ËøôÈáåÁöÑÊØè‰∏Ä‰∏™MapperÔºåÂ∞±‰ª£Ë°®‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑ‰∏öÂä°ÔºÅ</p>
<h1 id="5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò"><a href="#5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò" class="headerlink" title="5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò"></a>5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò</h1><h2 id="1„ÄÅÈóÆÈ¢ò"><a href="#1„ÄÅÈóÆÈ¢ò" class="headerlink" title="1„ÄÅÈóÆÈ¢ò"></a>1„ÄÅÈóÆÈ¢ò</h2><p>Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ≠óÊÆµ</p>
<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E5%AD%97%E6%AE%B5.png" alt="Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ≠óÊÆµ"></p>
<p>Êñ∞Âª∫‰∏Ä‰∏™È°πÁõÆÔºåÊã∑Ë¥ù‰πãÂâçÁöÑÔºåÊµãËØïÂÆû‰ΩìÁ±ªÂ≠óÊÆµ<code>password</code>‰∏ç‰∏ÄËá¥ÁöÑÊÉÖÂÜµ„ÄÇ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%B5%8B%E8%AF%95%E9%94%99%E8%AF%AF.png" alt="ÊµãËØïÈîôËØØ"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//select * from mybatis.user where id = #&#123;id&#125;</span></span><br><span class="line"><span class="comment">//Á±ªÂûãÂ§ÑÁêÜÂô®</span></span><br><span class="line"><span class="comment">//select id,name,pwd from mybatis.user where id = #&#123;id&#125;</span></span><br></pre></td></tr></table></figure>

<p>Ëß£ÂÜ≥ÊñπÊ≥ïÔºö</p>
<ul>
<li>Ëµ∑Âà´Âêç</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,<span class="keyword">name</span>,pwd <span class="keyword">as</span> <span class="keyword">password</span> <span class="keyword">from</span> mybatis.user <span class="keyword">where</span> <span class="keyword">id</span> = <span class="comment">#&#123;id&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="2„ÄÅresultMap"><a href="#2„ÄÅresultMap" class="headerlink" title="2„ÄÅresultMap"></a>2„ÄÅresultMap</h2><p>ÁªìÊûúÈõÜÊò†Â∞Ñ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id name pwd</span><br><span class="line">id name password</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÁªìÊûúÈõÜÊò†Â∞Ñ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"UserMap"</span> <span class="attr">type</span>=<span class="string">"User"</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--columnÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂ≠óÊÆµÔºåpropertyÂÆû‰ΩìÁ±ª‰∏≠ÁöÑÂ±ûÊÄß--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"	id"</span> <span class="attr">property</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"name"</span> <span class="attr">property</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">"pwd"</span> <span class="attr">property</span>=<span class="string">"password"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserById"</span> <span class="attr">resultMap</span>=<span class="string">"UserMap"</span> <span class="attr">parameterType</span>=<span class="string">"int"</span>&gt;</span></span><br><span class="line">       /*ÂÆö‰πâsql*/</span><br><span class="line">       select * from mybatis.user where id = #&#123;id&#125;;</span><br><span class="line">   <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<ul>
<li><code>resultMap</code> ÂÖÉÁ¥†ÊòØ MyBatis ‰∏≠ÊúÄÈáçË¶ÅÊúÄÂº∫Â§ßÁöÑÂÖÉÁ¥†</li>
<li>ResultMap ÁöÑËÆæËÆ°ÊÄùÊÉ≥ÊòØÔºåÂØπ‰∫éÁÆÄÂçïÁöÑËØ≠Âè•Ê†πÊú¨‰∏çÈúÄË¶ÅÈÖçÁΩÆÊòæÂºèÁöÑÁªìÊûúÊò†Â∞ÑÔºåËÄåÂØπ‰∫éÂ§çÊùÇ‰∏ÄÁÇπÁöÑËØ≠Âè•Âè™ÈúÄË¶ÅÊèèËø∞ÂÆÉ‰ª¨ÁöÑÂÖ≥Á≥ªÂ∞±Ë°å‰∫Ü„ÄÇ</li>
<li><code>ResultMap</code> ÊúÄ‰ºòÁßÄÁöÑÂú∞ÊñπÂú®‰∫éÔºåËôΩÁÑ∂‰Ω†Â∑≤ÁªèÂØπÂÆÉÁõ∏ÂΩì‰∫ÜËß£‰∫ÜÔºå‰ΩÜÊòØÊ†πÊú¨Â∞±‰∏çÈúÄË¶ÅÊòæÂºèÂú∞Áî®Âà∞‰ªñ‰ª¨„ÄÇ</li>
<li>Â¶ÇÊûú‰∏ñÁïåÊÄªÊòØËøô‰πàÁÆÄÂçïÂ∞±Â•Ω‰∫Ü„ÄÇ</li>
</ul>
<h1 id="6„ÄÅÊó•Âøó"><a href="#6„ÄÅÊó•Âøó" class="headerlink" title="6„ÄÅÊó•Âøó"></a>6„ÄÅÊó•Âøó</h1><h2 id="6-1„ÄÅÊó•ÂøóÂ∑•ÂéÇ"><a href="#6-1„ÄÅÊó•ÂøóÂ∑•ÂéÇ" class="headerlink" title="6.1„ÄÅÊó•ÂøóÂ∑•ÂéÇ"></a>6.1„ÄÅÊó•ÂøóÂ∑•ÂéÇ</h2><p>Â¶ÇÊûú‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÊìç‰ΩúÔºåÂá∫Áé∞‰∫ÜÂºÇÂ∏∏ÔºåÊàë‰ª¨ÈúÄË¶ÅÊéíÈîô„ÄÇÊó•ÂøóÂ∞±ÊòØÊúÄÂ•ΩÁöÑÂä©ÊâãÔºÅ</p>
<p>ÊõæÁªèÔºösout„ÄÅdebug</p>
<p>Áé∞Âú®ÔºöÊó•ÂøóÂ∑•ÂéÇ</p>
<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%97%A5%E5%BF%97.png" alt="Êó•Âøó"></p>
<ul>
<li>SLF4J </li>
<li><strong>LOG4J</strong>„ÄêÊéåÊè°„Äë</li>
<li>LOG4J2</li>
<li>JDK_LOGGING</li>
<li>COMMONS_LOGGING </li>
<li>STDOUT_LOGGING„ÄêÊéåÊè°„Äë</li>
<li>NO_LOGGING</li>
</ul>
<p>Âú®Mybatis‰∏≠ÂÖ∑‰Ωì‰ΩøÁî®ÈÇ£‰∏™Êó•ÂøóÂÆûÁé∞ÔºåÂú®ËÆæÁΩÆ‰∏≠ËÆæÂÆöÔºÅ****</p>
<p><strong>STDOUT_LOGGINGÊ†áÂáÜÊó•ÂøóËæìÂá∫</strong></p>
<p>Âú®mybatisÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºåÈÖçÁΩÆÊàë‰ª¨ÁöÑÊó•ÂøóÔºÅ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"STDOUT_LOGGING"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE.png" alt="Êó•ÂøóÈÖçÁΩÆ"></p>
<h2 id="6-2„ÄÅLog4j"><a href="#6-2„ÄÅLog4j" class="headerlink" title="6.2„ÄÅLog4j"></a>6.2„ÄÅLog4j</h2><p>‰ªÄ‰πàÊòØlog4j</p>
<ul>
<li>Log4jÊòØ<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9BcGFjaGUvODUxMjk5NQ==" title="https://baike.baidu.com/item/Apache/8512995">Apache<i class="fa fa-external-link"></i></span>ÁöÑ‰∏Ä‰∏™ÂºÄÊ∫êÈ°πÁõÆÔºåÈÄöËøá‰ΩøÁî®Log4jÔºåÊàë‰ª¨ÂèØ‰ª•ÊéßÂà∂Êó•Âøó‰ø°ÊÅØËæìÈÄÅÁöÑÁõÆÁöÑÂú∞ÊòØ<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS/mjqfliLblj7AvMjQzODYyNg==" title="https://baike.baidu.com/item/ÊéßÂà∂Âè∞/2438626">ÊéßÂà∂Âè∞<i class="fa fa-external-link"></i></span>„ÄÅÊñá‰ª∂„ÄÅ<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS9HVUk=" title="https://baike.baidu.com/item/GUI">GUI<i class="fa fa-external-link"></i></span>ÁªÑ‰ª∂</li>
<li>Êàë‰ª¨‰πüÂèØ‰ª•ÊéßÂà∂ÊØè‰∏ÄÊù°Êó•ÂøóÁöÑËæìÂá∫Ê†ºÂºè</li>
<li>ÈÄöËøáÂÆö‰πâÊØè‰∏ÄÊù°Êó•Âøó‰ø°ÊÅØÁöÑÁ∫ßÂà´ÔºåÊàë‰ª¨ËÉΩÂ§üÊõ¥Âä†ÁªÜËá¥Âú∞ÊéßÂà∂Êó•ÂøóÁöÑÁîüÊàêËøáÁ®ã„ÄÇ</li>
<li>ÈÄöËøá‰∏Ä‰∏™<span class="exturl" data-url="aHR0cHM6Ly9iYWlrZS5iYWlkdS5jb20vaXRlbS/phY3nva7mlofku7YvMjg2NTUw" title="https://baike.baidu.com/item/ÈÖçÁΩÆÊñá‰ª∂/286550">ÈÖçÁΩÆÊñá‰ª∂<i class="fa fa-external-link"></i></span>Êù•ÁÅµÊ¥ªÂú∞ËøõË°åÈÖçÁΩÆÔºåËÄå‰∏çÈúÄË¶Å‰øÆÊîπÂ∫îÁî®ÁöÑ‰ª£Á†Å„ÄÇ</li>
</ul>
<p>1.ÂÖàÂØºÂÖ•log4jÁöÑÂåÖ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.17<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>2.log4j.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">log4j.rootLogger</span>=<span class="string">debug, stdout, R</span></span><br><span class="line"><span class="meta">log4j.appender.stdout</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="comment"># Pattern to output the caller's file name and line number.</span></span><br><span class="line"><span class="meta">log4j.appender.stdout.layout.ConversionPattern</span>=<span class="string">%5p [%t] (%F:%L) - %m%n</span></span><br><span class="line"><span class="meta">log4j.appender.R</span>=<span class="string">org.apache.log4j.RollingFileAppender</span></span><br><span class="line"><span class="meta">log4j.appender.R.File</span>=<span class="string">example.log</span></span><br><span class="line"><span class="meta">log4j.appender.R.MaxFileSize</span>=<span class="string">100KB</span></span><br><span class="line"><span class="comment"># Keep one backup file</span></span><br><span class="line"><span class="meta">log4j.appender.R.MaxBackupIndex</span>=<span class="string">5</span></span><br><span class="line"><span class="meta">log4j.appender.R.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="meta">log4j.appender.R.layout.ConversionPattern</span>=<span class="string">%p %t %c - %m%n</span></span><br></pre></td></tr></table></figure>

<p>3.ÈÖçÁΩÆlog4j‰∏∫Êó•ÂøóÂÆûÁé∞</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"LOG4J"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>4.log4jÁöÑ‰ΩøÁî®ÔºÅÁõ¥Êé•ÊµãËØïËøêË°åÂàöÊâçÁöÑÊü•ËØ¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">DEBUG [main] (LogFactory.java:105) - Logging initialized using &#39;class org.apache.ibatis.logging.log4j.Log4jImpl&#39; adapter.</span><br><span class="line">DEBUG [main] (LogFactory.java:105) - Logging initialized using &#39;class org.apache.ibatis.logging.log4j.Log4jImpl&#39; adapter.</span><br><span class="line">DEBUG [main] (PooledDataSource.java:353) - PooledDataSource forcefully closed&#x2F;removed all connections.</span><br><span class="line">DEBUG [main] (PooledDataSource.java:353) - PooledDataSource forcefully closed&#x2F;removed all connections.</span><br><span class="line">DEBUG [main] (PooledDataSource.java:353) - PooledDataSource forcefully closed&#x2F;removed all connections.</span><br><span class="line">DEBUG [main] (PooledDataSource.java:353) - PooledDataSource forcefully closed&#x2F;removed all connections.</span><br><span class="line">DEBUG [main] (JdbcTransaction.java:136) - Opening JDBC Connection</span><br><span class="line">Loading class &#96;com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is &#96;com.mysql.cj.jdbc.Driver&#39;. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.</span><br><span class="line">DEBUG [main] (PooledDataSource.java:424) - Created connection 2049051802.</span><br><span class="line">DEBUG [main] (JdbcTransaction.java:100) - Setting autocommit to false on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a220c9a]</span><br><span class="line">DEBUG [main] (BaseJdbcLogger.java:143) - &#x3D;&#x3D;&gt;  Preparing: &#x2F;*ÂÆö‰πâsql*&#x2F; select * from mybatis.user where id &#x3D; ?; </span><br><span class="line">DEBUG [main] (BaseJdbcLogger.java:143) - &#x3D;&#x3D;&gt; Parameters: 1(Integer)</span><br><span class="line">DEBUG [main] (BaseJdbcLogger.java:143) - &lt;&#x3D;&#x3D;      Total: 1</span><br><span class="line">User&#123;id&#x3D;1, name&#x3D;&#39;ÁãÇÁ•û&#39;, password&#x3D;&#39;123456&#39;&#125;</span><br><span class="line">DEBUG [main] (JdbcTransaction.java:122) - Resetting autocommit to true on JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a220c9a]</span><br><span class="line">DEBUG [main] (JdbcTransaction.java:90) - Closing JDBC Connection [com.mysql.cj.jdbc.ConnectionImpl@7a220c9a]</span><br><span class="line">DEBUG [main] (PooledDataSource.java:381) - Returned connection 2049051802 to pool.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Disconnected from the target VM, address: &#39;127.0.0.1:58296&#39;, transport: &#39;socket&#39;</span><br><span class="line"></span><br><span class="line">Process finished with exit code 0</span><br></pre></td></tr></table></figure>

<p><strong>ÁÆÄÂçï‰ΩøÁî®</strong></p>
<ol>
<li><p>Âú®Ë¶Å‰ΩøÁî®Log4j ÁöÑÁ±ª‰∏≠ÔºåÂØºÂÖ•org.apache.log4j.Logger;</p>
</li>
<li><p>Êó•ÂøóÂØπË±°ÔºåÂä†ËΩΩÂèÇÊï∞‰∏∫ÂΩìÂâçÁ±ªÁöÑclass</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> Logger logger = Logger.getLogger(UserDaoTest<span class="class">.<span class="keyword">class</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Êó•ÂøóÁ∫ßÂà´</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">logger.info(<span class="string">"info:ËøõÂÖ•‰∫ÜtestLog4jÊñπÊ≥ï"</span>);</span><br><span class="line">logger.debug(<span class="string">"debug:ËøõÂÖ•‰∫ÜtestLog4j"</span>);</span><br><span class="line">logger.error(<span class="string">"error:ËøõÂÖ•‰∫ÜtestLog4j"</span>);</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h1 id="7„ÄÅÂàÜÈ°µ"><a href="#7„ÄÅÂàÜÈ°µ" class="headerlink" title="7„ÄÅÂàÜÈ°µ"></a>7„ÄÅÂàÜÈ°µ</h1><p><strong>ÊÄùËÄÉÔºö‰∏∫‰ªÄ‰πàË¶ÅÂàÜÈ°µÔºü</strong></p>
<ul>
<li>ÂáèÂ∞ëÊï∞ÊçÆÁöÑÂ§ÑÁêÜÈáè</li>
</ul>
<h2 id="7-1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ"><a href="#7-1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ" class="headerlink" title="7.1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ"></a>7.1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">limit</span> startIndex,pageSize</span><br></pre></td></tr></table></figure>



<p>‰ΩøÁî®MybatisÂÆûÁé∞ÂàÜÈ°µÔºåÊ†∏ÂøÉSQL</p>
<ol>
<li><p>Êé•Âè£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÂàÜÈ°µ</span></span><br><span class="line"><span class="function">List&lt;User&gt; <span class="title">getUserByLimit</span><span class="params">(Map&lt;String,Integer&gt; map)</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂàÜÈ°µ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserByLimit"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span> <span class="attr">resultMap</span>=<span class="string">"UserMap"</span>&gt;</span></span><br><span class="line">    select * from mybatis.user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊµãËØï</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserByLimit</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        HashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">"startIndex"</span>,<span class="number">0</span>);</span><br><span class="line">        map.put(<span class="string">"pageSize"</span>,<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; userList = mapper.getUserByLimit(map);</span><br><span class="line">        <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h2 id><a href="#" class="headerlink" title></a></h2></li>
</ol>
<h2 id="7-2„ÄÅRowBoundsÂàÜÈ°µ"><a href="#7-2„ÄÅRowBoundsÂàÜÈ°µ" class="headerlink" title="7.2„ÄÅRowBoundsÂàÜÈ°µ"></a>7.2„ÄÅRowBoundsÂàÜÈ°µ</h2><p>‰∏çÂÜç‰ΩøÁî®SQLÂÆûÁé∞ÂàÜÈ°µ</p>
<ol>
<li><p>Êé•Âè£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">List&lt;User&gt; <span class="title">getUserByRowBounds</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>mapper.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÂàÜÈ°µ2--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUserByRowBounds"</span> <span class="attr">resultMap</span>=<span class="string">"UserMap"</span>&gt;</span></span><br><span class="line">    select * from mybatis.user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊµãËØï</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUserByRowBounds</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">    <span class="comment">//RowBoundsÂÆûÁé∞</span></span><br><span class="line">    RowBounds rowBounds = <span class="keyword">new</span> RowBounds(<span class="number">1</span>, <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÈÄöËøájava‰ª£Á†ÅÂ±ÇÈù¢ÂÆûÁé∞ÂàÜÈ°µ</span></span><br><span class="line">    List&lt;User&gt; userList = sqlSession.selectList(<span class="string">"com.rui.dao.UserMapper.getUserByRowBounds"</span>,<span class="keyword">null</span>,rowBounds);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="7-3„ÄÅÂàÜÈ°µÊèí‰ª∂"><a href="#7-3„ÄÅÂàÜÈ°µÊèí‰ª∂" class="headerlink" title="7.3„ÄÅÂàÜÈ°µÊèí‰ª∂"></a>7.3„ÄÅÂàÜÈ°µÊèí‰ª∂</h2><p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191203175719275.png" alt="image-20191203175719275"></p>
<p>‰∫ÜËß£Âç≥ÂèØÔºå‰∏á‰∏Ä‰ª•ÂêéÂÖ¨Âè∏ÁöÑÊû∂ÊûÑÂ∏àÔºåËØ¥Ë¶Å‰ΩøÁî®ÔºåÂè™ÈúÄË¶ÅÁü•ÈÅìÂÆÉÊòØ‰ªÄ‰πà‰∏úË•øÔºÅ</p>
<h1 id="8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"><a href="#8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë" class="headerlink" title="8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"></a>8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë</h1><h2 id="8-1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã"><a href="#8-1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã" class="headerlink" title="8.1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã"></a>8.1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã</h2><p><strong>Èù¢ÂêëÊé•Âè£ÁºñÁ®ãÁöÑÊ†πÊú¨ÂéüÂõ†Ôºö<u>Ëß£ËÄ¶</u>ÔºåÂèØÊãìÂ±ïÔºåÊèêÈ´òÂ§çÁî®ÔºåÂàÜÂ±ÇÂºÄÂèë‰∏≠„ÄÅ‰∏äÂ±Ç‰∏çÁî®ÁÆ°ÂÖ∑‰ΩìÁöÑÂÆûÁé∞ÔºåÂ§ßÂÆ∂ÈÉΩÈÅµÂÆàÂÖ±ÂêåÁöÑÊ†áÂáÜÔºå‰ΩøÂæóÂºÄÂèëÂèòÂæóÂÆπÊòìÔºåËßÑËåÉÊÄßÂ•Ω</strong></p>
<h2 id="8-2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"><a href="#8-2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë" class="headerlink" title="8.2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"></a>8.2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë</h2><ol>
<li><p>Ê≥®Ëß£Âú®Êé•Âè£‰∏äÂÆûÁé∞</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select</span>(value = <span class="string">"select * from user"</span>)</span><br><span class="line"><span class="function">List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ÈúÄË¶ÅÂú®Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁªëÂÆöÊé•Âè£ÔºÅ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÁªëÂÆöÊé•Âè£--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">"rui.dao.UserMapper"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊµãËØï</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">        <span class="comment">//Â∫ïÂ±Ç‰∏ªË¶ÅÂ∫îÁî®ÂèçÂ∞Ñ</span></span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        List&lt;User&gt; users = mapper.getUsers();</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;</span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Êú¨Ë¥®ÔºöÂèçÂ∞ÑÊú∫Âà∂ÂÆûÁé∞</p>
<p>Â∫ïÂ±ÇÔºöÂä®ÊÄÅ‰ª£ÁêÜÔºÅ</p>
<h2 id="8-3„ÄÅCRUD"><a href="#8-3„ÄÅCRUD" class="headerlink" title="8.3„ÄÅCRUD"></a>8.3„ÄÅCRUD</h2><p>Êàë‰ª¨ÂèØ‰ª•Âú®Â∑•ÂÖ∑Á±ªÂàõÂª∫ÁöÑÊó∂ÂÄôÂÆûÁé∞Ëá™Âä®Êèê‰∫§‰∫ãÂä°ÔºÅ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title">getSqlSession</span><span class="params">()</span></span>&#123;</span><br><span class="line">       <span class="keyword">return</span> sqlSessionFactory.openSession(<span class="keyword">true</span>);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>ÁºñÂÜôÊé•Âè£ÔºåÂ¢ûÂä†Ê≥®Ëß£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Select</span>(value = <span class="string">"select * from user"</span>)</span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">getUsers</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ÊñπÊ≥ïÂ≠òÂú®Â§ö‰∏™ÂèÇÊï∞ÔºåÊâÄÊúâÁöÑÂèÇÊï∞ÂâçÈù¢ÂøÖÈ°ªÂä†‰∏ä@ParamÊ≥®Ëß£</span></span><br><span class="line">    <span class="meta">@Select</span>(<span class="string">"select * from user where id = #&#123;id&#125; or name = #&#123;name&#125;"</span>)</span><br><span class="line">    <span class="function">User <span class="title">getUserByID</span><span class="params">(@Param(<span class="string">"id"</span>)</span><span class="keyword">int</span> id,@<span class="title">Param</span><span class="params">(<span class="string">"name"</span>)</span>String name)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Insert</span>(<span class="string">"insert into user(id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;password&#125;)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Update</span>(<span class="string">"update user set name = #&#123;name&#125;,pwd = #&#123;password&#125; where id = #&#123;id&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">updateUser</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Delete</span>(<span class="string">"delete from user where id = #&#123;uid&#125;"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">deleteUser</span><span class="params">(@Param(<span class="string">"uid"</span>)</span> <span class="keyword">int</span> id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ÊµãËØïÁ±ª</p>
<p>„ÄêÊ≥®ÊÑèÔºöÊàë‰ª¨ÂøÖÈ°ªË¶ÅÂ∞ÜÊé•Âè£Ê≥®ÂÜåÁªëÂÆöÂà∞Êàë‰ª¨ÁöÑÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÔºÅ„Äë</p>
<p><strong>ÂÖ≥‰∫é@Param()Ê≥®Ëß£</strong></p>
<ul>
<li>Âü∫Êú¨Á±ªÂûãÁöÑÂèÇÊï∞ÊàñËÄÖStringÁ±ªÂûãÔºåÈúÄË¶ÅÂä†‰∏ä</li>
<li>ÂºïÁî®Á±ªÂûã‰∏çÈúÄË¶ÅÂä†</li>
<li>Â¶ÇÊûúÂè™Êúâ‰∏Ä‰∏™Âü∫Êú¨Á±ªÂûãÁöÑËØùÔºåÂèØ‰ª•ÂøΩÁï•Ôºå‰ΩÜÊòØÂª∫ËÆÆÂ§ßÂÆ∂ÈÉΩÂä†‰∏ä</li>
<li>Êàë‰ª¨Âú®SQL‰∏≠ÂºïÁî®ÁöÑÂ∞±ÊòØÊàë‰ª¨ËøôÈáåÁöÑ@Param()‰∏≠ËÆæÂÆöÁöÑÂ±ûÊÄßÂêç</li>
</ul>
<p><strong>#{}   ${}Âå∫Âà´</strong></p>
<h1 id="9„ÄÅLombok"><a href="#9„ÄÅLombok" class="headerlink" title="9„ÄÅLombok"></a>9„ÄÅLombok</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Project Lombok is a java library that automatically plugs into your editor and build tools, spicing up your java.</span><br><span class="line">Never write another getter or equals method again, with one annotation your <span class="class"><span class="keyword">class</span> <span class="title">has</span> <span class="title">a</span> <span class="title">fully</span> <span class="title">featured</span> <span class="title">builder</span>, <span class="title">Automate</span> <span class="title">your</span> <span class="title">logging</span> <span class="title">variables</span>, <span class="title">and</span> <span class="title">much</span> <span class="title">more</span>.</span></span><br></pre></td></tr></table></figure>



<p>‰ΩøÁî®Ê≠•È™§Ôºö</p>
<ol>
<li><p>Âú®IDEA‰∏≠ÂÆâË£ÖLombokÊèí‰ª∂</p>
</li>
<li><p>Âú®È°πÁõÆ‰∏≠ÂØºÂÖ•lombokÁöÑjarÂåÖ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Âú®ÂÆû‰ΩìÁ±ª‰∏äÂä†Ê≥®Ëß£Âç≥ÂèØ</p>
</li>
</ol>
   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Getter</span> and <span class="meta">@Setter</span></span><br><span class="line"><span class="meta">@FieldNameConstants</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span>, <span class="meta">@RequiredArgsConstructor</span> and <span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@Log</span>, <span class="meta">@Log</span>4j, <span class="meta">@Log</span>4j2, <span class="meta">@Slf</span>4j, <span class="meta">@XSlf</span>4j, <span class="meta">@CommonsLog</span>, <span class="meta">@JBossLog</span>, <span class="meta">@Flogger</span>, <span class="meta">@CustomLog</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="meta">@SuperBuilder</span></span><br><span class="line"><span class="meta">@Singular</span></span><br><span class="line"><span class="meta">@Delegate</span></span><br><span class="line"><span class="meta">@Value</span></span><br><span class="line"><span class="meta">@Accessors</span></span><br><span class="line"><span class="meta">@Wither</span></span><br><span class="line"><span class="meta">@With</span></span><br><span class="line"><span class="meta">@SneakyThrows</span></span><br><span class="line"><span class="meta">@val</span></span><br><span class="line"><span class="meta">@var</span></span><br><span class="line">experimental <span class="meta">@var</span></span><br><span class="line"><span class="meta">@UtilityClass</span></span><br><span class="line">Lombok config system</span><br></pre></td></tr></table></figure>

<p><strong>ËØ¥ÊòéÔºö</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span>:Êó†ÂèÇÊûÑÈÄ†Ôºåget„ÄÅset„ÄÅtoSring„ÄÅhashcode„ÄÅequals</span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@ToString</span></span><br><span class="line"><span class="meta">@EqualsAndHashCode</span></span><br></pre></td></tr></table></figure>



<h1 id="10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ"><a href="#10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ" class="headerlink" title="10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ"></a>10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ</h1><p>Â§öÂØπ‰∏ÄÔºö</p>
<ul>
<li>Â§ö‰∏™Â≠¶ÁîüÔºåÂØπÂ∫î‰∏Ä‰∏™ËÄÅÂ∏à</li>
<li>ÂØπ‰∫éÂ≠¶ÁîüËøôËæπËÄåË®ÄÔºå<strong>ÂÖ≥ËÅî</strong>‚Ä¶Â§ö‰∏™Â≠¶ÁîüÔºåÂÖ≥ËÅî‰∏Ä‰∏™ËÄÅÂ∏à„ÄêÂ§öÂØπ‰∏Ä„Äë</li>
<li>ÂØπ‰∫éËÄÅÂ∏àËÄåË®ÄÔºå<strong>ÈõÜÂêà</strong>Ôºå‰∏Ä‰∏™ËÄÅÂ∏àÂèàÂæàÂ§öÂ≠¶Áîü„Äê‰∏ÄÂØπÂ§ö„Äë</li>
<li><strong>Â∑¶ÂÖ≥ËÅîÔºåÂè≥ÈõÜÂêà</strong></li>
</ul>
<p>SQL:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`teacher`</span>(</span><br><span class="line"><span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">Not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>)</span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> teacher(<span class="string">`id`</span>,<span class="string">`name`</span>) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">'Áß¶ËÄÅÂ∏à'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`student`</span>(</span><br><span class="line"><span class="string">`id`</span> <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">Not</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line"><span class="string">`tid`</span> <span class="built_in">INT</span>(<span class="number">10</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>),</span><br><span class="line"><span class="keyword">KEY</span> <span class="string">`fktid`</span>(<span class="string">`tid`</span>),</span><br><span class="line"><span class="keyword">CONSTRAINT</span> <span class="string">`fktid`</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`tid`</span>) <span class="keyword">REFERENCES</span> <span class="string">`teacher`</span> (<span class="string">`id`</span>)</span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">INNODB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`tid`</span>) <span class="keyword">VALUES</span> (<span class="number">1</span>,<span class="string">'Â∞èÊòé'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`tid`</span>) <span class="keyword">VALUES</span> (<span class="number">2</span>,<span class="string">'Â∞èÁ∫¢'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`tid`</span>) <span class="keyword">VALUES</span> (<span class="number">3</span>,<span class="string">'Â∞èÂº†'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`tid`</span>) <span class="keyword">VALUES</span> (<span class="number">4</span>,<span class="string">'Â∞èÊùé'</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> student(<span class="string">`id`</span>,<span class="string">`name`</span>,<span class="string">`tid`</span>) <span class="keyword">VALUES</span> (<span class="number">5</span>,<span class="string">'Â∞èÁéã'</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></figure>



<h2 id="ÊµãËØïÁéØÂ¢É"><a href="#ÊµãËØïÁéØÂ¢É" class="headerlink" title="ÊµãËØïÁéØÂ¢É"></a>ÊµãËØïÁéØÂ¢É</h2><ol>
<li>ÂØºÂÖ•lombok</li>
<li>Êñ∞Âª∫ÂÆû‰ΩìÁ±ªTeacherÔºåStudent</li>
<li>Êñ∞Âª∫MapperÊé•Âè£</li>
<li>Âª∫Á´ãMapper.XMLÊñá‰ª∂</li>
<li>Âú®Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁªëÂÆöÊ≥®ÂÜåÊàë‰ª¨ÁöÑMApperÊé•Âè£ÊàñËÄÖÊñá‰ª∂ÔºÅ„ÄêÊñπÂºèÂæàÂ§öÔºåÈöèÊÑèÈÄâ„Äë</li>
<li>ÊµãËØïÊü•ËØ¢ÊòØÂê¶ÊàêÂäüÔºÅ</li>
</ol>
<h2 id="ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ"><a href="#ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ" class="headerlink" title="ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ"></a>ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ÊÄùË∑ØÔºö</span></span><br><span class="line"><span class="comment">    1„ÄÅÊü•ËØ¢ÊâÄÊúâÁöÑÂ≠¶Áîü‰ø°ÊÅØ</span></span><br><span class="line"><span class="comment">    2„ÄÅÊ†πÊçÆÊü•ËØ¢Âá∫Êù•ÁöÑÂ≠¶ÁîüÁöÑidÁöÑtidÔºåÂØªÊâæÂØπÂ∫îÁöÑËÄÅÂ∏àÔºÅ -Â≠êÊü•ËØ¢</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getStudent"</span> <span class="attr">resultMap</span>=<span class="string">"StudentTeacher"</span>&gt;</span></span><br><span class="line">select * from student</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"StudentTeacher"</span> <span class="attr">type</span>=<span class="string">"com.rui.pojo.Student"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Â§çÊùÇÁöÑÂ±ûÊÄßÔºåÊàë‰ª¨ÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜ  ÂØπË±°Ôºöassociation  ÈõÜÂêàÔºöcollection--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"teacher"</span> <span class="attr">column</span>=<span class="string">"tid"</span> <span class="attr">javaType</span>=<span class="string">"com.rui.pojo.Teacher"</span> <span class="attr">select</span>=<span class="string">"getTeacher"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getTeacher"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Teacher"</span>&gt;</span></span><br><span class="line">    select * from teacher where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ"><a href="#ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ" class="headerlink" title="ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ"></a>ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getStudent2"</span> <span class="attr">resultMap</span>=<span class="string">"StudentTeacher2"</span>&gt;</span></span><br><span class="line">    select s.id sid,s.name sname,t.name tname,t.id tid</span><br><span class="line">    from student s,teacher t</span><br><span class="line">    where s.tid=t.id;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"StudentTeacher2"</span> <span class="attr">type</span>=<span class="string">"com.rui.pojo.Student"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"sid"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"sname"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">"teacher"</span> <span class="attr">javaType</span>=<span class="string">"com.rui.pojo.Teacher"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"tid"</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"tname"</span>&gt;</span><span class="tag">&lt;/<span class="name">result</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ÂõûÈ°æMysqlÂ§öÂØπ‰∏ÄÊü•ËØ¢ÊñπÂºèÔºö</p>
<ul>
<li>Â≠êÊü•ËØ¢</li>
<li>ËÅîË°®Êü•ËØ¢</li>
</ul>
<h1 id="11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ"><a href="#11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ" class="headerlink" title="11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ"></a>11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ</h1><p>ÊØîÂ¶ÇÔºö‰∏Ä‰∏™ËÄÅÂ∏àÊã•ÊúâÂ§ö‰∏™Â≠¶ÁîüÔºÅ</p>
<p>ÂØπ‰∫éËÄÅÂ∏àËÄåË®ÄÔºåÂ∞±ÊòØ‰∏ÄÂØπÂ§öÁöÑÂÖ≥Á≥ªÔºÅ</p>
<h2 id="ÁéØÂ¢ÉÊê≠Âª∫"><a href="#ÁéØÂ¢ÉÊê≠Âª∫" class="headerlink" title="ÁéØÂ¢ÉÊê≠Âª∫"></a>ÁéØÂ¢ÉÊê≠Âª∫</h2><ol>
<li>ÁéØÂ¢ÉÊê≠Âª∫ÔºåÂíåÂàöÊâç‰∏ÄÊ†∑</li>
</ol>
<p>ÂÆû‰ΩìÁ±ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//‰∏Ä‰∏™ËÄÅÂ∏àÊã•ÊúâÂ§ö‰∏™Â≠¶Áîü</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; students;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> tid;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ-1"><a href="#ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ-1" class="headerlink" title="ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ"></a>ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÊåâÁªìÊûúÂµåÂ•óÊü•ËØ¢--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getTeacher"</span> <span class="attr">resultMap</span>=<span class="string">"TeacherStudent"</span>&gt;</span></span><br><span class="line">    select s.id sid,s.name sname,t.name tname,t.id tid</span><br><span class="line">    from student s,teacher t</span><br><span class="line">    where s.tid=t.id and t.id = #&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"TeacherStudent"</span> <span class="attr">type</span>=<span class="string">"com.rui.pojo.Teacher"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"tid"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"tname"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Â§çÊùÇÁöÑÂ±ûÊÄßÔºåÊàë‰ª¨ÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜ  ÂØπË±°Ôºöassociation  ÈõÜÂêàÔºöcollection</span></span><br><span class="line"><span class="comment">        javaType="" ÊåáÂÆöÂ±ûÊÄßÁöÑÁ±ªÂûã</span></span><br><span class="line"><span class="comment">        ÈõÜÂêà‰∏≠ÁöÑÊ≥õÂûã‰ø°ÊÅØÔºåÊàë‰ª¨‰ΩøÁî®ofTypeËé∑Âèñ</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"students"</span> <span class="attr">ofType</span>=<span class="string">"com.rui.pojo.Student"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"id"</span> <span class="attr">column</span>=<span class="string">"sid"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"name"</span> <span class="attr">column</span>=<span class="string">"sname"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">"tid"</span> <span class="attr">column</span>=<span class="string">"tid"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ-1"><a href="#ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ-1" class="headerlink" title="ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ"></a>ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getTeacher2"</span> <span class="attr">resultMap</span>=<span class="string">"TeacherStudent2"</span>&gt;</span></span><br><span class="line">    select * from mybatis.teacher where id = #&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">"TeacherStudent2"</span> <span class="attr">type</span>=<span class="string">"com.rui.pojo.Teacher"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">"students"</span> <span class="attr">javaType</span>=<span class="string">"ArrayList"</span> <span class="attr">ofType</span>=<span class="string">"com.rui.pojo.Student"</span> <span class="attr">select</span>=<span class="string">"getStudentByTeacherId"</span> <span class="attr">column</span>=<span class="string">"id"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getStudentByTeacherId"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Student"</span>&gt;</span></span><br><span class="line">    select * from mybatis.student where tid = #&#123;tid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="Â∞èËäÇ"><a href="#Â∞èËäÇ" class="headerlink" title="Â∞èËäÇ"></a>Â∞èËäÇ</h2><ol>
<li>ÂÖ≥ËÅî-association„ÄêÂ§öÂØπ‰∏Ä„Äë</li>
<li>ÈõÜÂêà-collection   „Äê‰∏ÄÂØπÂ§ö„Äë</li>
<li>javaType &amp; ofType<ol>
<li>JavaTypeÁî®Êù•ÊåáÂÆöÂÆû‰ΩìÁ±ª‰∏≠Â±ûÊÄßÁöÑÁ±ªÂûã</li>
<li>ofTypeÁî®Êù•ÊåáÂÆöÊò†Â∞ÑÂà∞ListÊàñËÄÖÈõÜÂêà‰∏≠ÁöÑpojoÁ±ªÂûãÔºåÊ≥õÂûã‰∏≠ÁöÑÁ∫¶ÊùüÁ±ªÂûãÔºÅ</li>
</ol>
</li>
</ol>
<p>Ê≥®ÊÑèÁÇπÔºö</p>
<ul>
<li>‰øùËØÅSQLÁöÑÂèØËØªÊÄßÔºåÂ∞ΩÈáè‰øùËØÅÈÄö‰øóÊòìÊáÇ</li>
<li>Ê≥®ÊÑè‰∏ÄÂØπÂ§öÂíåÂ§öÂØπ‰∏Ä‰∏≠ÔºåÂ±ûÊÄßÂêçÂíåÂ≠óÊÆµÁöÑÈóÆÈ¢òÔºÅ</li>
<li>Â¶ÇÊûúÈóÆÈ¢ò‰∏çÂ•ΩÊéíÊü•ÈîôËØØÔºåÂèØ‰ª•‰ΩøÁî®Êó•ÂøóÔºåÂª∫ËÆÆ‰ΩøÁî®Log4j</li>
</ul>
<p><strong>ÊÖ¢SQL        1S        1000S</strong></p>
<p>Èù¢ËØïÈ´òÈ¢ë</p>
<ul>
<li>MysqlÂºïÊìé</li>
<li>InnoDBÂ∫ïÂ±ÇÂéüÁêÜ</li>
<li>Á¥¢Âºï</li>
<li>Á¥¢Âºï‰ºòÂåñÔºÅ</li>
</ul>
<h1 id="12„ÄÅÂä®ÊÄÅSQL"><a href="#12„ÄÅÂä®ÊÄÅSQL" class="headerlink" title="12„ÄÅÂä®ÊÄÅSQL"></a>12„ÄÅÂä®ÊÄÅSQL</h1><p><strong>‰ªÄ‰πà‰∫ãÂä®ÊÄÅSQLÔºöÂä®ÊÄÅSQLÂ∞±ÊòØÊåáÊ†πÊçÆ‰∏çÂêåÁöÑÊù°‰ª∂ÁîüÊàê‰∏çÂêåÁöÑSQLËØ≠Âè•</strong></p>
<p>Âà©Áî®Âä®ÊÄÅSQLËøô‰∏ÄÁâπÊÄßÂèØ‰ª•ÂΩªÂ∫ïÊëÜËÑ±ËøôÁßçÁóõËã¶</p>
<p>Âä®ÊÄÅ SQL ÂÖÉÁ¥†Âíå JSTL ÊàñÂü∫‰∫éÁ±ª‰ºº XML ÁöÑÊñáÊú¨Â§ÑÁêÜÂô®Áõ∏‰ºº„ÄÇÂú® MyBatis ‰πãÂâçÁöÑÁâàÊú¨‰∏≠ÔºåÊúâÂæàÂ§öÂÖÉÁ¥†ÈúÄË¶ÅËä±Êó∂Èó¥‰∫ÜËß£„ÄÇMyBatis 3 Â§ßÂ§ßÁ≤æÁÆÄ‰∫ÜÂÖÉÁ¥†ÁßçÁ±ªÔºåÁé∞Âú®Âè™ÈúÄÂ≠¶‰π†ÂéüÊù•‰∏ÄÂçäÁöÑÂÖÉÁ¥†‰æøÂèØ„ÄÇMyBatis ÈááÁî®ÂäüËÉΩÂº∫Â§ßÁöÑÂü∫‰∫é OGNL ÁöÑË°®ËææÂºèÊù•Ê∑òÊ±∞ÂÖ∂ÂÆÉÂ§ßÈÉ®ÂàÜÂÖÉÁ¥†„ÄÇ</p>
<ul>
<li>if</li>
<li>choose (when, otherwise)</li>
<li>trim (where, set)</li>
<li>foreach</li>
</ul>
<h2 id="Êê≠Âª∫ÁéØÂ¢É"><a href="#Êê≠Âª∫ÁéØÂ¢É" class="headerlink" title="Êê≠Âª∫ÁéØÂ¢É"></a>Êê≠Âª∫ÁéØÂ¢É</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`bolg`</span>(</span><br><span class="line">	<span class="string">`id`</span> <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ÂçöÂÆ¢id'</span>,</span><br><span class="line">	<span class="string">`title`</span> <span class="built_in">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'ÂçöÂÆ¢Ê†áÈ¢ò'</span>,</span><br><span class="line">	<span class="string">`author`</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'ÂçöÂÆ¢‰ΩúËÄÖ'</span>,</span><br><span class="line">	<span class="string">`creat_time`</span> datetime <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'ÂàõÂª∫Êó∂Èó¥'</span>,</span><br><span class="line">	<span class="string">`views`</span> <span class="built_in">int</span>(<span class="number">30</span>) <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">comment</span> <span class="string">'ÊµèËßàÈáè'</span></span><br><span class="line">)<span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8</span><br></pre></td></tr></table></figure>

<p>ÂàõÂª∫‰∏Ä‰∏™Âü∫Á°ÄÂ∑•Á®ã</p>
<ol>
<li><p>ÂØºÂåÖ</p>
</li>
<li><p>ÁºñÂÜôÈÖçÁΩÆÊñá‰ª∂</p>
</li>
<li><p>ÁºñÂÜôÂÆû‰ΩìÁ±ª</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Blog</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> String author;</span><br><span class="line">    <span class="keyword">private</span> Date creatTime;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> views;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ÁºñÂÜôÂÆû‰ΩìÁ±ªÂØπÂ∫îÁöÑMapperÊé•Âè£ÂíåMapper.xml</p>
</li>
</ol>
<h2 id="IF"><a href="#IF" class="headerlink" title="IF"></a>IF</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryBlogIF"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Blog"</span>&gt;</span></span><br><span class="line">    select * from mybatis.bolg where 1=1</span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"title != null"</span>&gt;</span></span><br><span class="line">        and title = #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"author != null"</span>&gt;</span></span><br><span class="line">        and author = #&#123;author&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">queryBlogIF</span><span class="params">()</span></span>&#123;</span><br><span class="line">    SqlSession sqlSession = MyBatisUtils.getSqlSession();</span><br><span class="line">    BlogMapper mapper = sqlSession.getMapper(BlogMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">    HashMap map = <span class="keyword">new</span> HashMap();</span><br><span class="line">    map.put(<span class="string">"author"</span>,<span class="string">"Â∞πÈîê"</span>);</span><br><span class="line">    List&lt;Blog&gt; blogs = mapper.queryBlogIF(map);</span><br><span class="line">    <span class="keyword">for</span> (Blog blog : blogs) &#123;</span><br><span class="line">        System.out.println(blog);</span><br><span class="line">    &#125;</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose (when, otherwise)"></a>choose (when, otherwise)</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryBlogChoose"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Blog"</span>&gt;</span></span><br><span class="line">    select * from mybatis.bolg</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">"title != null"</span>&gt;</span></span><br><span class="line">                title=#&#123;title&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">"author!=null"</span>&gt;</span></span><br><span class="line">                and author = #&#123;author&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">                and views = #&#123;views&#125;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Á±ª‰ºº‰∫é where if</p>
<h2 id="trim-where-set"><a href="#trim-where-set" class="headerlink" title="trim, (where, set)"></a>trim, (where, set)</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">select * from mybatis.bolg</span><br><span class="line"><span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"title != null"</span>&gt;</span></span><br><span class="line">    title = #&#123;title&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"author != null"</span>&gt;</span></span><br><span class="line">    and author = #&#123;author&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">"updateBlog"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span>&gt;</span></span><br><span class="line">    update mybatis.bolg</span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"title != null"</span>&gt;</span></span><br><span class="line">            title = #&#123;title&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"author != null"</span>&gt;</span></span><br><span class="line">            author = #&#123;author&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><strong>ÊâÄË∞ìÁöÑÂä®ÊÄÅSQLÔºåÊú¨Ë¥®ËøòÊòØSQLËØ≠Âè•ÔºåÂè™ÊòØÊàë‰ª¨ÂèØ‰ª•Âú®SQLÂ±ÇÈù¢ÔºåÂéªÊâßË°å‰∏Ä‰∫õÈÄªËæë‰ª£Á†Å</strong></p>
<p>if</p>
<p>Where,set,choose,when</p>
<h2 id="SQLÁâáÊÆµ"><a href="#SQLÁâáÊÆµ" class="headerlink" title="SQLÁâáÊÆµ"></a>SQLÁâáÊÆµ</h2><p>ÊúâÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨ÂèØËÉΩ‰ºöÂ∞Ü‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑÈÉ®ÂàÜÊäΩÂèñÂá∫Êù•ÔºåÊñπ‰æø<strong>Â§çÁî®</strong>ÔºÅ</p>
<ol>
<li><p>‰ΩøÁî®SQLÊ†áÁ≠æÊäΩÂèñÂÖ¨ÂÖ±ÁöÑÈÉ®ÂàÜ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">"if-title-author"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"title != null"</span>&gt;</span></span><br><span class="line">        title = #&#123;title&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">"author != null"</span>&gt;</span></span><br><span class="line">        and author = #&#123;author&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Âú®ÈúÄË¶Å‰ΩøÁî®ÁöÑÂú∞Êñπ‰ΩøÁî®IncludeÊ†áÁ≠æÂºïÁî®Âç≥ÂèØ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryBlogIF"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Blog"</span>&gt;</span></span><br><span class="line">    select * from mybatis.bolg</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">"if-title-author"</span>&gt;</span><span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>Ê≥®ÊÑè‰∫ãÈ°πÔºö</p>
<ul>
<li>ÊúÄÂ•ΩÂü∫‰∫éÂçïË°®Êù•ÂÆö‰πâSQLÁâáÊÆµÔºÅ</li>
<li>‰∏çË¶ÅÂ≠òÂú®whereÊàñËÄÖset<strong>Ê†áÁ≠æ</strong>ÔºåÁâáÊÆµÈáåÂ∞ΩÈáèÂè™ÊúâifÂ∞±Â•Ω‰∫Ü</li>
</ul>
</li>
</ol>
<h2 id="Foreach"><a href="#Foreach" class="headerlink" title="Foreach"></a>Foreach</h2><p>   ÂÖ∂ÂÆûÂ∞±ÊòØÂØπË¶ÅÂä®ÊÄÅÂä†ÁöÑsqlÂÅö‰∏Ä‰∏™Âæ™ÁéØ„ÄÇ</p>
   <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> <span class="number">1</span>=<span class="number">1</span> <span class="keyword">and</span> </span><br><span class="line">  &lt;foreach item=<span class="string">"id"</span> <span class="keyword">index</span>=<span class="string">"index"</span> collection=<span class="string">"ids"</span></span><br><span class="line">      <span class="keyword">open</span>=<span class="string">"("</span> separator=<span class="string">"or"</span> <span class="keyword">close</span>=<span class="string">")"</span>&gt;</span><br><span class="line">        <span class="comment">#&#123;id&#125;</span></span><br><span class="line">  &lt;/foreach&gt;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">id</span>=<span class="number">1</span> <span class="keyword">or</span> <span class="keyword">id</span>=<span class="number">2</span> <span class="keyword">or</span> <span class="keyword">id</span>=<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<p>   <img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191205141204114.png" alt="image-20191205141204114"></p>
   <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">select * from mybatis.bolg where 1=1 and (id=1 or id=2 or id=3)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Êàë‰ª¨Áé∞Âú®‰º†ÈÄí‰∏Ä‰∏™‰∏áËÉΩÁöÑmapÔºåËøô‰∏™map‰∏≠ÂèØ‰ª•Â≠òÂú®‰∏Ä‰∏™map</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"queryBlogForeach"</span> <span class="attr">parameterType</span>=<span class="string">"map"</span> <span class="attr">resultType</span>=<span class="string">"com.rui.pojo.Blog"</span>&gt;</span></span><br><span class="line">    select * from mybatis.bolg</span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">"ids"</span> <span class="attr">item</span>=<span class="string">"id"</span> <span class="attr">open</span>=<span class="string">"("</span> <span class="attr">close</span>=<span class="string">")"</span> <span class="attr">separator</span>=<span class="string">"or"</span>&gt;</span></span><br><span class="line">        id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="-1"><a href="#-1" class="headerlink" title></a></h2><p>   <strong>Âä®ÊÄÅSQLÂ∞±ÊòØÂú®ÊãºÊé•SQLËØ≠Âè•ÔºåÊàë‰ª¨Âè™Ë¶Å‰øùËØÅSQLÁöÑÊ≠£Á°ÆÊÄßÔºåÊåâÁÖßSQLÁöÑÊ†ºÂºèÔºåÂéªÊéíÂàóÁªÑÂêàÂ∞±ÂèØ‰ª•‰∫Ü</strong></p>
<p>   Âª∫ËÆÆÔºö</p>
<ul>
<li>ÂÖàÂú®Mysql‰∏≠ÂÜôÂá∫ÂÆåÊï¥ÁöÑSQLÔºåÂú®ÂØπÂ∫îÁöÑÂéª‰øÆÊîπÁß∞‰∏∫Êàë‰ª¨ÁöÑÂä®ÊÄÅSQL</li>
</ul>
<h1 id="13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ"><a href="#13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ" class="headerlink" title="13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ"></a>13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ</h1><h2 id="13-1„ÄÅÁÆÄ‰ªã"><a href="#13-1„ÄÅÁÆÄ‰ªã" class="headerlink" title="13.1„ÄÅÁÆÄ‰ªã"></a>13.1„ÄÅÁÆÄ‰ªã</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Êü•ËØ¢	Ôºö		ËøûÊé•Êï∞ÊçÆÂ∫ìÔºåËÄóËµÑÊ∫êÔºÅ</span><br><span class="line">		‰∏ÄÊ¨°Êü•ËØ¢ÁöÑÁªìÊûúÔºåÁªô‰ªñÊöÇÂ≠òÂú®‰∏Ä‰∏™ÂèØ‰ª•Áõ¥Êé•ÂèñÂà∞ÁöÑÂú∞ÊñπÔºÅ---&gt;ÂÜÖÂ≠ò	Ôºö	ÁºìÂ≠ò</span><br><span class="line">		</span><br><span class="line">Êàë‰ª¨ÂÜçÊ¨°Êü•ËØ¢Áõ∏ÂêåÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÁõ¥Êé•Ëµ∞ÁºìÂ≠òÔºåÂ∞±‰∏çÁî®Ëµ∞Êï∞ÊçÆÂ∫ì‰∫Ü</span><br></pre></td></tr></table></figure>

<ol>
<li><p>‰ªÄ‰πà‰∫ãÁºìÂ≠ò[Cache]?</p>
<ul>
<li><p>Â≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏¥Êó∂Êï∞ÊçÆ„ÄÇ</p>
</li>
<li><p>Â∞ÜÁî®Êà∑ÁªèÂ∏∏Êü•ËØ¢ÁöÑÊï∞ÊçÆÊîæÂú®ÁºìÂ≠òÔºàÂÜÖÂ≠òÔºâ‰∏≠ÔºåÁî®Êà∑ÂéªÊü•ËØ¢Êï∞ÊçÆÂ∞±‰∏çÁî®‰ªéÁ£ÅÁõò‰∏äÔºàÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÊï∞ÊçÆÊñá‰ª∂ÔºâÊü•ËØ¢Ôºå</p>
<p>‰ªéÁºìÂ≠ò‰∏≠Êü•ËØ¢Ôºå‰ªéËÄåÊèêÈ´òÊü•ËØ¢ÊïàÁéáÔºåËß£ÂÜ≥‰∫ÜÈ´òÂπ∂ÂèëÁ≥ªÁªüÁöÑÊÄßËÉΩÈóÆÈ¢ò„ÄÇ</p>
</li>
</ul>
</li>
<li><p>‰∏∫‰ªÄ‰πà‰ΩøÁî®ÁºìÂ≠òÔºü</p>
<ul>
<li>ÂáèÂ∞ëÂíåÊï∞ÊçÆÂ∫ìÁöÑ‰∫§‰∫íÊ¨°Êï∞ÔºåÂáèÂ∞ëÁ≥ªÁªüÂºÄÈîÄÔºåÊèêÈ´òÁ≥ªÁªüÊïàÁéá„ÄÇ</li>
</ul>
</li>
<li><p>‰ªÄ‰πàÊ†∑ÁöÑÊï∞ÊçÆËÉΩ‰ΩøÁî®ÁºìÂ≠òÔºü</p>
<ul>
<li>ÁªèÂ∏∏Êü•ËØ¢Âπ∂‰∏î‰∏çÁªèÂ∏∏ÊîπÂèòÁöÑÊï∞ÊçÆ„ÄÇ</li>
</ul>
</li>
</ol>
<h2 id="13-2„ÄÅMybatisÁºìÂ≠ò"><a href="#13-2„ÄÅMybatisÁºìÂ≠ò" class="headerlink" title="13.2„ÄÅMybatisÁºìÂ≠ò"></a>13.2„ÄÅMybatisÁºìÂ≠ò</h2><ul>
<li>MyBatisÂåÖÂê´‰∏Ä‰∏™ÈùûÂ∏∏Âº∫Â§ßÁöÑÊü•ËØ¢ÁºìÂ≠òÁâπÊÄßÔºåÂÆÉÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÂú∞ÂÆöÂà∂ÂíåÈÖçÁΩÆÁºìÂ≠ò„ÄÇÁºìÂ≠òÂèØ‰ª•ÊûÅÂ§ßÁöÑÊèêÂçáÊü•ËØ¢ÊïàÁéá„ÄÇ</li>
<li>MyBatisÁ≥ªÁªü‰∏≠ÈªòËÆ§ÂÆö‰πâ‰∫Ü‰∏§Á∫ßÁºìÂ≠òÔºö<strong>‰∏ÄÁ∫ßÁºìÂ≠ò</strong>Âíå<strong>‰∫åÁ∫ßÁºìÂ≠ò</strong><ul>
<li>ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂè™Êúâ‰∏ÄÁ∫ßÁºìÂ≠òÂºÄÂêØ„ÄÇÔºàSqlSessionÁ∫ßÂà´ÁöÑÁºìÂ≠òÔºå‰πüÁß∞‰∏∫Êú¨Âú∞ÁºìÂ≠òÔºâ</li>
<li>‰∫åÁ∫ßÁºìÂ≠òÈúÄË¶ÅÊâãÂä®ÂºÄÂêØÂíåÈÖçÁΩÆÔºå‰ªñÊòØÂü∫‰∫énamespaceÁ∫ßÂà´ÁöÑÁºìÂ≠ò„ÄÇ</li>
<li>‰∏∫‰∫ÜÊèêÊâ©Â±ïÊÄßÔºåMyBatisÂÆö‰πâ‰∫ÜÁºìÂ≠òÊé•Âè£Cache„ÄÇÊàë‰ª¨ÂèØ‰ª•ÈÄöËøáÂÆûÁé∞CacheÊé•Âè£Êù•Ëá™ÂÆö‰πâ‰∫åÁ∫ßÁºìÂ≠ò</li>
</ul>
</li>
</ul>
<h2 id="13-3„ÄÅ"><a href="#13-3„ÄÅ" class="headerlink" title="13.3„ÄÅ"></a>13.3„ÄÅ</h2><ul>
<li>‰∏ÄÁ∫ßÁºìÂ≠ò‰πüÂè´Êú¨Âú∞ÁºìÂ≠òÔºöSqlSession<ul>
<li>‰∏éÊï∞ÊçÆÂ∫ìÂêå‰πâËØç‰ºöËØùÊúüÈó¥Êü•ËØ¢Âà∞ÁöÑÊï∞ÊçÆ‰ºöÊîæÂú®Êú¨Âú∞ÁºìÂ≠ò‰∏≠„ÄÇ</li>
<li>‰ª•ÂêéÂ¶ÇÊûúÈúÄË¶ÅËé∑ÂèñÁõ∏ÂêåÁöÑÊï∞ÊçÆÔºåÁõ¥Êé•‰ªéÁºìÂ≠ò‰∏≠ÊãøÔºåÊ≤°ÊúâÂøÖË¶ÅÂÜçÂéªÊü•ËØ¢Êï∞ÊçÆÔºõ</li>
</ul>
</li>
</ul>
<p><strong>ÊµãËØïÊ≠•È™§Ôºö</strong></p>
<ol>
<li>ÂºÄÂêØÊó•Âøó!</li>
<li>ÊµãËØïÂú®‰∏Ä‰∏™Session‰∏≠Êü•ËØ¢‰∏§Ê¨°Áõ∏ÂêåÁöÑËÆ∞ÂΩï</li>
<li>Êü•ÁúãÊó•ÂøóËæìÂá∫</li>
</ol>
<p><strong>ÁºìÂ≠òÂ§±ÊïàÁöÑÊÉÖÂÜµÔºö</strong></p>
<ol>
<li><p>Êü•ËØ¢‰∏çÂêåÁöÑ‰∏úË•ø</p>
</li>
<li><p>Â¢ûÂà†ÊîπÊìç‰ΩúÔºåÂèØËÉΩ‰ºöÊîπÂèòÂéüÊù•ÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•ÂøÖÂÆö‰ºöÂà∑Êñ∞ÁºìÂ≠òÔºÅ</p>
</li>
<li><p>Êü•ËØ¢‰∏çÂêåÁöÑMapper.xml</p>
</li>
<li><p>ÊâãÂä®Ê∏ÖÁêÜÁºìÂ≠òÔºÅ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlsession.clearCache(); <span class="comment">//ÊâãÂä®Ê∏ÖÁêÜÁºìÂ≠ò</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>Â∞èËäÇÔºö‰∏ÄÁ∫ßÁºìÂ≠òÈªòËÆ§ÊòØÂºÄÂêØÁöÑÔºåÂè™Âú®‰∏ÄÊ¨°SqlSession‰∏≠ÊúâÊïàÔºå‰πüÂ∞±ÊòØÊãøÂà∞ËøûÊé•Âà∞ÂÖ≥Èó≠ËøûÊé•Ëøô‰∏™Âå∫Èó¥ÊÆµÔºÅ</p>
<p>‰∏ÄÁ∫ßÁºìÂ≠òÂ∞±ÊòØ‰∏Ä‰∏™Map„ÄÇ</p>
<h2 id="13-4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò"><a href="#13-4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò" class="headerlink" title="13.4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò"></a>13.4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò</h2><ul>
<li>‰∫åÁ∫ßÁºìÂ≠ò‰πüÂè´ÂÖ®Â±ÄÁºìÂ≠òÔºå‰∏ÄÁ∫ßÁºìÂ≠ò‰ΩúÁî®ÂüüÂ§™‰Ωé‰∫ÜÔºåÊâÄ‰ª•ËØûÁîü‰∫Ü‰∫åÁ∫ßÁºìÂ≠ò</li>
<li>Âü∫‰∫énamespaceÁ∫ßÂà´ÁöÑÁºìÂ≠òÔºå‰∏Ä‰∏™ÂêçÁß∞Á©∫Èó¥ÔºåÂØπÂ∫î‰∏Ä‰∏™‰∫åÁ∫ßÁºìÂ≠òÔºõ</li>
<li>Â∑•‰ΩúÊú∫Âà∂<ul>
<li>‰∏Ä‰∏™‰ºöËØùÊü•ËØ¢‰∏ÄÊù°Êï∞ÊçÆÔºåËøô‰∏™Êï∞ÊçÆÂ∞±‰ºöË¢´ÊîæÂú®ÂΩìÂâç‰ºöËØùÁöÑ‰∏ÄÁ∫ßÁºìÂ≠ò‰∏≠Ôºõ</li>
<li>Â¶ÇÊûúÂΩìÂâç‰ºöËØùÂÖ≥Èó≠‰∫ÜÔºåËøô‰∏™‰ºöËØùÂØπÂ∫îÁöÑ‰∏ÄÁ∫ßÁºìÂ≠òÂ∞±Ê≤°‰∫ÜÔºõ‰ΩÜÊòØÊàë‰ª¨ÊÉ≥Ë¶ÅÁöÑÊòØÔºå‰ºöËØùÂÖ≥Èó≠‰∫ÜÔºå‰∏ÄÁ∫ßÁºìÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ‰ºöË¢´‰øùÂ≠òÂà∞‰∫åÁ∫ßÁºìÂ≠ò‰∏≠Ôºõ</li>
<li>Êñ∞ÁöÑ‰ºöËØùÊü•ËØ¢‰ø°ÊÅØÔºåÂ∞±ÂèØ‰ª•‰ªé‰∫åÁ∫ßÁºìÂ≠ò‰∏≠Ëé∑ÂèñÂÜÖÂÆπÔºõ</li>
<li>‰∏çÂêåÁöÑmapperÊü•Âá∫ÁöÑÊï∞ÊçÆ‰ºöÊîæÂú®Ëá™Â∑±ÂØπÂ∫îÁöÑÁºìÂ≠òÔºàmapÔºâ‰∏≠Ôºõ</li>
</ul>
</li>
</ul>
<p>Ê≠•È™§Ôºö</p>
<ol>
<li><p>ÂºÄÂêØÂÖ®Â±ÄÁºìÂ≠ò</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ÊòæÂºèÁöÑÂºÄÂêØÂÖ®Â±ÄÁºìÂ≠ò--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"cacheEnabled"</span> <span class="attr">value</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Âú®Ë¶Å‰ΩøÁî®‰∫åÁ∫ßÁºìÂ≠òÁöÑMapper‰∏≠ÂºÄÂêØ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Âú®ÂΩìÂâçMapper.xml‰∏≠‰ΩøÁî®‰∫åÁ∫ßÁºìÂ≠ò--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cache</span>/&gt;</span></span><br><span class="line">‰πüÂèØ‰ª•Ëá™ÂÆö‰πâÂèÇÊï∞</span><br><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">eviction</span>=<span class="string">"FIFO"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">flushInterval</span>=<span class="string">"60000"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">size</span>=<span class="string">"512"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">readOnly</span>=<span class="string">"true"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊµãËØï</p>
<ol>
<li><p>ÈóÆÈ¢òÔºöÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂÆû‰ΩìÁ±ªÂ∫èÂàóÂåñÔºÅÂê¶ÂàôÂ∞±‰ºöÊä•Èîô</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java.io.NotSerializableException: com.rui.pojo.User</span><br></pre></td></tr></table></figure>


</li>
</ol>
</li>
</ol>
<p>Â∞èÁªìÔºö</p>
<ul>
<li>Âè™Ë¶ÅÂºÄÂêØ‰∫Ü‰∫åÁ∫ßÁºìÂ≠òÔºåÂú®Âêå‰∏Ä‰∏™Mapper‰∏ãÂ∞±ÊúâÊïà</li>
<li>ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÂÖàÊîæÂú®‰∏ÄÁ∫ßÁºìÂ≠ò‰∏≠Ôºõ</li>
<li>Âè™ÊúâÂΩì‰ºöËØùÊèê‰∫§ÔºåÊàñËÄÖÂÖ≥Èó≠ÁöÑÊó∂ÂÄôÔºåÊâç‰ºöÊèê‰∫§Âà∞‰∫åÁ∫ßÁºìÂ≠ò‰∏≠ÔºÅ</li>
</ul>
<h2 id="13-5„ÄÅÁºìÂ≠òÂéüÁêÜ"><a href="#13-5„ÄÅÁºìÂ≠òÂéüÁêÜ" class="headerlink" title="13.5„ÄÅÁºìÂ≠òÂéüÁêÜ"></a>13.5„ÄÅÁºìÂ≠òÂéüÁêÜ</h2><p><img src="/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/image-20191205170549715.png" alt="image-20191205170549715"></p>
<h2 id="13-6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache"><a href="#13-6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache" class="headerlink" title="13.6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache"></a>13.6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">EhCache ÊòØ‰∏Ä‰∏™Á∫ØJavaÁöÑËøõÁ®ãÂÜÖÁºìÂ≠òÊ°ÜÊû∂ÔºåÂÖ∑ÊúâÂø´ÈÄü„ÄÅÁ≤æÂπ≤Á≠âÁâπÁÇπÔºåÊòØHibernate‰∏≠ÈªòËÆ§ÁöÑCacheProvider„ÄÇ</span><br></pre></td></tr></table></figure>

<p>Ë¶ÅÂú®Á®ãÂ∫è‰∏≠‰ΩøÁî®ehcacheÔºåÂÖàË¶ÅÂØºÂåÖÔºÅ</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.caches/mybatis-ehcache --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.caches<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-ehcache<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ÁÑ∂ÂêéÂú®mapper‰∏≠ÊåáÂÆö‰ΩøÁî®ehcacheÁºìÂ≠òÂÆûÁé∞</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Âú®ÂΩìÂâçMapper.xml‰∏≠‰ΩøÁî®‰∫åÁ∫ßÁºìÂ≠ò--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">cache</span> <span class="attr">type</span>=<span class="string">"org.mybatis.caches.ehcache.EhcacheCache"</span>/&gt;</span></span><br></pre></td></tr></table></figure>



<p>ÂØºÂÖ•ÈÖçÁΩÆÊñá‰ª∂ ehcache.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ehcache</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:noNamespaceSchemaLocation</span>=<span class="string">"http://ehcache.org/ehcache.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">updateCheck</span>=<span class="string">"false"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">       diskStoreÔºö‰∏∫ÁºìÂ≠òË∑ØÂæÑÔºåehcacheÂàÜ‰∏∫ÂÜÖÂ≠òÂíåÁ£ÅÁõò‰∏§Á∫ßÔºåÊ≠§Â±ûÊÄßÂÆö‰πâÁ£ÅÁõòÁöÑÁºìÂ≠ò‰ΩçÁΩÆ„ÄÇÂèÇÊï∞Ëß£ÈáäÂ¶Ç‰∏ãÔºö</span></span><br><span class="line"><span class="comment">       user.home ‚Äì Áî®Êà∑‰∏ªÁõÆÂΩï</span></span><br><span class="line"><span class="comment">       user.dir  ‚Äì Áî®Êà∑ÂΩìÂâçÂ∑•‰ΩúÁõÆÂΩï</span></span><br><span class="line"><span class="comment">       java.io.tmpdir ‚Äì ÈªòËÆ§‰∏¥Êó∂Êñá‰ª∂Ë∑ØÂæÑ</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">diskStore</span> <span class="attr">path</span>=<span class="string">"java.io.tmpdir/Tmp_EhCache"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">       defaultCacheÔºöÈªòËÆ§ÁºìÂ≠òÁ≠ñÁï•ÔºåÂΩìehcacheÊâæ‰∏çÂà∞ÂÆö‰πâÁöÑÁºìÂ≠òÊó∂ÔºåÂàô‰ΩøÁî®Ëøô‰∏™ÁºìÂ≠òÁ≠ñÁï•„ÄÇÂè™ËÉΩÂÆö‰πâ‰∏Ä‰∏™„ÄÇ</span></span><br><span class="line"><span class="comment">     --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">      name:ÁºìÂ≠òÂêçÁß∞„ÄÇ</span></span><br><span class="line"><span class="comment">      maxElementsInMemory:ÁºìÂ≠òÊúÄÂ§ßÊï∞ÁõÆ</span></span><br><span class="line"><span class="comment">      maxElementsOnDiskÔºöÁ°¨ÁõòÊúÄÂ§ßÁºìÂ≠ò‰∏™Êï∞„ÄÇ</span></span><br><span class="line"><span class="comment">      eternal:ÂØπË±°ÊòØÂê¶Ê∞∏‰πÖÊúâÊïàÔºå‰∏Ä‰ΩÜËÆæÁΩÆ‰∫ÜÔºåtimeoutÂ∞Ü‰∏çËµ∑‰ΩúÁî®„ÄÇ</span></span><br><span class="line"><span class="comment">      overflowToDisk:ÊòØÂê¶‰øùÂ≠òÂà∞Á£ÅÁõòÔºåÂΩìÁ≥ªÁªüÂΩìÊú∫Êó∂</span></span><br><span class="line"><span class="comment">      timeToIdleSeconds:ËÆæÁΩÆÂØπË±°Âú®Â§±ÊïàÂâçÁöÑÂÖÅËÆ∏Èó≤ÁΩÆÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ„ÄÇ‰ªÖÂΩìeternal=falseÂØπË±°‰∏çÊòØÊ∞∏‰πÖÊúâÊïàÊó∂‰ΩøÁî®ÔºåÂèØÈÄâÂ±ûÊÄßÔºåÈªòËÆ§ÂÄºÊòØ0Ôºå‰πüÂ∞±ÊòØÂèØÈó≤ÁΩÆÊó∂Èó¥Êó†Á©∑Â§ß„ÄÇ</span></span><br><span class="line"><span class="comment">      timeToLiveSeconds:ËÆæÁΩÆÂØπË±°Âú®Â§±ÊïàÂâçÂÖÅËÆ∏Â≠òÊ¥ªÊó∂Èó¥ÔºàÂçï‰ΩçÔºöÁßíÔºâ„ÄÇÊúÄÂ§ßÊó∂Èó¥‰ªã‰∫éÂàõÂª∫Êó∂Èó¥ÂíåÂ§±ÊïàÊó∂Èó¥‰πãÈó¥„ÄÇ‰ªÖÂΩìeternal=falseÂØπË±°‰∏çÊòØÊ∞∏‰πÖÊúâÊïàÊó∂‰ΩøÁî®ÔºåÈªòËÆ§ÊòØ0.Ôºå‰πüÂ∞±ÊòØÂØπË±°Â≠òÊ¥ªÊó∂Èó¥Êó†Á©∑Â§ß„ÄÇ</span></span><br><span class="line"><span class="comment">      diskPersistentÔºöÊòØÂê¶ÁºìÂ≠òËôöÊãüÊú∫ÈáçÂêØÊúüÊï∞ÊçÆ Whether the disk store persists between restarts of the Virtual Machine. The default value is false.</span></span><br><span class="line"><span class="comment">      diskSpoolBufferSizeMBÔºöËøô‰∏™ÂèÇÊï∞ËÆæÁΩÆDiskStoreÔºàÁ£ÅÁõòÁºìÂ≠òÔºâÁöÑÁºìÂ≠òÂå∫Â§ßÂ∞è„ÄÇÈªòËÆ§ÊòØ30MB„ÄÇÊØè‰∏™CacheÈÉΩÂ∫îËØ•ÊúâËá™Â∑±ÁöÑ‰∏Ä‰∏™ÁºìÂÜ≤Âå∫„ÄÇ</span></span><br><span class="line"><span class="comment">      diskExpiryThreadIntervalSecondsÔºöÁ£ÅÁõòÂ§±ÊïàÁ∫øÁ®ãËøêË°åÊó∂Èó¥Èó¥ÈöîÔºåÈªòËÆ§ÊòØ120Áßí„ÄÇ</span></span><br><span class="line"><span class="comment">      memoryStoreEvictionPolicyÔºöÂΩìËææÂà∞maxElementsInMemoryÈôêÂà∂Êó∂ÔºåEhcacheÂ∞Ü‰ºöÊ†πÊçÆÊåáÂÆöÁöÑÁ≠ñÁï•ÂéªÊ∏ÖÁêÜÂÜÖÂ≠ò„ÄÇÈªòËÆ§Á≠ñÁï•ÊòØLRUÔºàÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®Ôºâ„ÄÇ‰Ω†ÂèØ‰ª•ËÆæÁΩÆ‰∏∫FIFOÔºàÂÖàËøõÂÖàÂá∫ÔºâÊàñÊòØLFUÔºàËæÉÂ∞ë‰ΩøÁî®Ôºâ„ÄÇ</span></span><br><span class="line"><span class="comment">      clearOnFlushÔºöÂÜÖÂ≠òÊï∞ÈáèÊúÄÂ§ßÊó∂ÊòØÂê¶Ê∏ÖÈô§„ÄÇ</span></span><br><span class="line"><span class="comment">      memoryStoreEvictionPolicy:ÂèØÈÄâÁ≠ñÁï•ÊúâÔºöLRUÔºàÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÔºåÈªòËÆ§Á≠ñÁï•Ôºâ„ÄÅFIFOÔºàÂÖàËøõÂÖàÂá∫Ôºâ„ÄÅLFUÔºàÊúÄÂ∞ëËÆøÈóÆÊ¨°Êï∞Ôºâ„ÄÇ</span></span><br><span class="line"><span class="comment">      FIFOÔºåfirst in first outÔºåËøô‰∏™ÊòØÂ§ßÂÆ∂ÊúÄÁÜüÁöÑÔºåÂÖàËøõÂÖàÂá∫„ÄÇ</span></span><br><span class="line"><span class="comment">      LFUÔºå Less Frequently UsedÔºåÂ∞±ÊòØ‰∏äÈù¢‰æãÂ≠ê‰∏≠‰ΩøÁî®ÁöÑÁ≠ñÁï•ÔºåÁõ¥ÁôΩ‰∏ÄÁÇπÂ∞±ÊòØËÆ≤‰∏ÄÁõ¥‰ª•Êù•ÊúÄÂ∞ëË¢´‰ΩøÁî®ÁöÑ„ÄÇÂ¶Ç‰∏äÈù¢ÊâÄËÆ≤ÔºåÁºìÂ≠òÁöÑÂÖÉÁ¥†Êúâ‰∏Ä‰∏™hitÂ±ûÊÄßÔºåhitÂÄºÊúÄÂ∞èÁöÑÂ∞Ü‰ºöË¢´Ê∏ÖÂá∫ÁºìÂ≠ò„ÄÇ</span></span><br><span class="line"><span class="comment">      LRUÔºåLeast Recently UsedÔºåÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®ÁöÑÔºåÁºìÂ≠òÁöÑÂÖÉÁ¥†Êúâ‰∏Ä‰∏™Êó∂Èó¥Êà≥ÔºåÂΩìÁºìÂ≠òÂÆπÈáèÊª°‰∫ÜÔºåËÄåÂèàÈúÄË¶ÅËÖæÂá∫Âú∞ÊñπÊù•ÁºìÂ≠òÊñ∞ÁöÑÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÔºåÈÇ£‰πàÁé∞ÊúâÁºìÂ≠òÂÖÉÁ¥†‰∏≠Êó∂Èó¥Êà≥Á¶ªÂΩìÂâçÊó∂Èó¥ÊúÄËøúÁöÑÂÖÉÁ¥†Â∞ÜË¢´Ê∏ÖÂá∫ÁºìÂ≠ò„ÄÇ</span></span><br><span class="line"><span class="comment">   --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">defaultCache</span></span></span><br><span class="line"><span class="tag">            <span class="attr">eternal</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsInMemory</span>=<span class="string">"10000"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">overflowToDisk</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">diskPersistent</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToIdleSeconds</span>=<span class="string">"1800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToLiveSeconds</span>=<span class="string">"259200"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">"LRU"</span>/&gt;</span></span><br><span class="line"> </span><br><span class="line">    <span class="tag">&lt;<span class="name">cache</span></span></span><br><span class="line"><span class="tag">            <span class="attr">name</span>=<span class="string">"cloud_user"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">eternal</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">maxElementsInMemory</span>=<span class="string">"5000"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">overflowToDisk</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">diskPersistent</span>=<span class="string">"false"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToIdleSeconds</span>=<span class="string">"1800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">timeToLiveSeconds</span>=<span class="string">"1800"</span></span></span><br><span class="line"><span class="tag">            <span class="attr">memoryStoreEvictionPolicy</span>=<span class="string">"LRU"</span>/&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">ehcache</span>&gt;</span></span><br></pre></td></tr></table></figure>




    </div>

    
    
    
      

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Êú¨Êñá‰ΩúËÄÖÔºö </strong>Zlatanlong
  </li>
  <li class="post-copyright-link">
    <strong>Êú¨ÊñáÈìæÊé•Ôºö</strong>
    <a href="https://www.lclong.top/2020/03/13/mybatis%E7%AC%94%E8%AE%B0/mybatis/" title="Mybatis ‰ªéÈõ∂Âà∞‚àû">https://www.lclong.top/2020/03/13/mybatisÁ¨îËÆ∞/mybatis/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ÁâàÊùÉÂ£∞ÊòéÔºö </strong>Êú¨ÂçöÂÆ¢ÊâÄÊúâÊñáÁ´†Èô§ÁâπÂà´Â£∞ÊòéÂ§ñÔºåÂùáÈááÁî® <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC96aC1DTg=="><i class="fa fa-fw fa-creative-commons"></i>BY-NC-SA</span> ËÆ∏ÂèØÂçèËÆÆ„ÄÇËΩ¨ËΩΩËØ∑Ê≥®ÊòéÂá∫Â§ÑÔºÅ
  </li>
</ul>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/Mybatis/" rel="tag"><i class="fa fa-tag"></i> Mybatis</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/02/nodejs%E5%B9%B6%E8%A1%8C%E5%A4%84%E7%90%86promise/" rel="prev" title="Node.js Âπ∂Ë°åÂ§ÑÁêÜPromise">
      <i class="fa fa-chevron-left"></i> Node.js Âπ∂Ë°åÂ§ÑÁêÜPromise
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/17/Git%E4%B8%8EGit%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4/" rel="next" title="Git‰∏éGitÁõ∏ÂÖ≥ÂëΩ‰ª§">
      Git‰∏éGitÁõ∏ÂÖ≥ÂëΩ‰ª§ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  
  </div>


          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1„ÄÅÁÆÄ‰ªã"><span class="nav-number">1.</span> <span class="nav-text">1„ÄÅÁÆÄ‰ªã</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1„ÄÅ‰ªÄ‰πàÊòØMyBatis"><span class="nav-number">1.1.</span> <span class="nav-text">1.1„ÄÅ‰ªÄ‰πàÊòØMyBatis</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÁÆÄ‰ªã"><span class="nav-number">1.2.</span> <span class="nav-text">ÁÆÄ‰ªã</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#‰ªÄ‰πàÊòØ-MyBatisÔºü"><span class="nav-number">1.2.1.</span> <span class="nav-text">‰ªÄ‰πàÊòØ MyBatisÔºü</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2„ÄÅÊåÅ‰πÖÂåñ"><span class="nav-number">1.3.</span> <span class="nav-text">1.2„ÄÅÊåÅ‰πÖÂåñ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-3„ÄÅÊåÅ‰πÖÂ±Ç"><span class="nav-number">1.4.</span> <span class="nav-text">1.3„ÄÅÊåÅ‰πÖÂ±Ç</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü"><span class="nav-number">1.5.</span> <span class="nav-text">1.4„ÄÅ‰∏∫‰ªÄ‰πàÈúÄË¶ÅMybatisÔºü</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è"><span class="nav-number">2.</span> <span class="nav-text">2„ÄÅÁ¨¨‰∏Ä‰∏™MybatisÁ®ãÂ∫è</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-1„ÄÅÊê≠Âª∫ÁéØÂ¢É"><span class="nav-number">2.1.</span> <span class="nav-text">2.1„ÄÅÊê≠Âª∫ÁéØÂ¢É</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó"><span class="nav-number">2.2.</span> <span class="nav-text">2.2„ÄÅÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-3„ÄÅÁºñÂÜô‰ª£Á†Å"><span class="nav-number">2.3.</span> <span class="nav-text">2.3„ÄÅÁºñÂÜô‰ª£Á†Å</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-4„ÄÅÊµãËØï"><span class="nav-number">2.4.</span> <span class="nav-text">2.4„ÄÅÊµãËØï</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3„ÄÅCRUD"><span class="nav-number">3.</span> <span class="nav-text">3„ÄÅCRUD</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1„ÄÅnamespace"><span class="nav-number">3.1.</span> <span class="nav-text">1„ÄÅnamespace</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2„ÄÅselect"><span class="nav-number">3.2.</span> <span class="nav-text">2„ÄÅselect</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3„ÄÅInsert"><span class="nav-number">3.3.</span> <span class="nav-text">3„ÄÅInsert</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4„ÄÅUpdate"><span class="nav-number">3.4.</span> <span class="nav-text">4„ÄÅUpdate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5„ÄÅDelete"><span class="nav-number">3.5.</span> <span class="nav-text">5„ÄÅDelete</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6„ÄÅÂàÜÊûêÈîôËØØ"><span class="nav-number">3.6.</span> <span class="nav-text">6„ÄÅÂàÜÊûêÈîôËØØ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7„ÄÅ‰∏áËÉΩMap"><span class="nav-number">3.7.</span> <span class="nav-text">7„ÄÅ‰∏áËÉΩMap</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8„ÄÅÊÄùËÄÉ"><span class="nav-number">3.8.</span> <span class="nav-text">8„ÄÅÊÄùËÄÉ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4„ÄÅÈÖçÁΩÆËß£Êûê"><span class="nav-number">4.</span> <span class="nav-text">4„ÄÅÈÖçÁΩÆËß£Êûê</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂"><span class="nav-number">4.1.</span> <span class="nav-text">1„ÄÅÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ"><span class="nav-number">4.2.</span> <span class="nav-text">2„ÄÅÁéØÂ¢ÉÈÖçÁΩÆÔºàenvironmentsÔºâ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ"><span class="nav-number">4.3.</span> <span class="nav-text">3„ÄÅÂ±ûÊÄßÔºàpropertiesÔºâ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ"><span class="nav-number">4.4.</span> <span class="nav-text">4„ÄÅÁ±ªÂûãÂà´ÂêçÔºàtypeAliasesÔºâ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5„ÄÅËÆæÁΩÆ"><span class="nav-number">4.5.</span> <span class="nav-text">5„ÄÅËÆæÁΩÆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü"><span class="nav-number">4.6.</span> <span class="nav-text">6„ÄÅÁîüÂëΩÂë®ÊúüÂíå‰ΩúÁî®Âüü</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò"><span class="nav-number">5.</span> <span class="nav-text">5„ÄÅËß£ÂÜ≥Â±ûÊÄßÂêçÂíåÂ≠óÊÆµÂêç‰∏ç‰∏ÄËá¥ÁöÑÈóÆÈ¢ò</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1„ÄÅÈóÆÈ¢ò"><span class="nav-number">5.1.</span> <span class="nav-text">1„ÄÅÈóÆÈ¢ò</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2„ÄÅresultMap"><span class="nav-number">5.2.</span> <span class="nav-text">2„ÄÅresultMap</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6„ÄÅÊó•Âøó"><span class="nav-number">6.</span> <span class="nav-text">6„ÄÅÊó•Âøó</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1„ÄÅÊó•ÂøóÂ∑•ÂéÇ"><span class="nav-number">6.1.</span> <span class="nav-text">6.1„ÄÅÊó•ÂøóÂ∑•ÂéÇ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2„ÄÅLog4j"><span class="nav-number">6.2.</span> <span class="nav-text">6.2„ÄÅLog4j</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#7„ÄÅÂàÜÈ°µ"><span class="nav-number">7.</span> <span class="nav-text">7„ÄÅÂàÜÈ°µ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ"><span class="nav-number">7.1.</span> <span class="nav-text">7.1„ÄÅ‰ΩøÁî®LimitÂàÜÈ°µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#"><span class="nav-number">7.2.</span> <span class="nav-text"></span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2„ÄÅRowBoundsÂàÜÈ°µ"><span class="nav-number">7.3.</span> <span class="nav-text">7.2„ÄÅRowBoundsÂàÜÈ°µ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3„ÄÅÂàÜÈ°µÊèí‰ª∂"><span class="nav-number">7.4.</span> <span class="nav-text">7.3„ÄÅÂàÜÈ°µÊèí‰ª∂</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"><span class="nav-number">8.</span> <span class="nav-text">8„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã"><span class="nav-number">8.1.</span> <span class="nav-text">8.1„ÄÅÈù¢ÂêëÊé•Âè£ÁºñÁ®ã</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë"><span class="nav-number">8.2.</span> <span class="nav-text">8.2„ÄÅ‰ΩøÁî®Ê≥®Ëß£ÂºÄÂèë</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3„ÄÅCRUD"><span class="nav-number">8.3.</span> <span class="nav-text">8.3„ÄÅCRUD</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#9„ÄÅLombok"><span class="nav-number">9.</span> <span class="nav-text">9„ÄÅLombok</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ"><span class="nav-number">10.</span> <span class="nav-text">10„ÄÅÂ§öÂØπ‰∏ÄÂ§ÑÁêÜ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊµãËØïÁéØÂ¢É"><span class="nav-number">10.1.</span> <span class="nav-text">ÊµãËØïÁéØÂ¢É</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ"><span class="nav-number">10.2.</span> <span class="nav-text">ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ"><span class="nav-number">10.3.</span> <span class="nav-text">ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ"><span class="nav-number">11.</span> <span class="nav-text">11„ÄÅ‰∏ÄÂØπÂ§öÂ§ÑÁêÜ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ÁéØÂ¢ÉÊê≠Âª∫"><span class="nav-number">11.1.</span> <span class="nav-text">ÁéØÂ¢ÉÊê≠Âª∫</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ-1"><span class="nav-number">11.2.</span> <span class="nav-text">ÊåâÁÖßÁªìÊûúÂµåÂ•óÂ§ÑÁêÜ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ-1"><span class="nav-number">11.3.</span> <span class="nav-text">ÊåâÁÖßÊü•ËØ¢ÂµåÂ•óÂ§ÑÁêÜ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Â∞èËäÇ"><span class="nav-number">11.4.</span> <span class="nav-text">Â∞èËäÇ</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#12„ÄÅÂä®ÊÄÅSQL"><span class="nav-number">12.</span> <span class="nav-text">12„ÄÅÂä®ÊÄÅSQL</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Êê≠Âª∫ÁéØÂ¢É"><span class="nav-number">12.1.</span> <span class="nav-text">Êê≠Âª∫ÁéØÂ¢É</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IF"><span class="nav-number">12.2.</span> <span class="nav-text">IF</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#choose-when-otherwise"><span class="nav-number">12.3.</span> <span class="nav-text">choose (when, otherwise)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#trim-where-set"><span class="nav-number">12.4.</span> <span class="nav-text">trim, (where, set)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#SQLÁâáÊÆµ"><span class="nav-number">12.5.</span> <span class="nav-text">SQLÁâáÊÆµ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Foreach"><span class="nav-number">12.6.</span> <span class="nav-text">Foreach</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#-1"><span class="nav-number">12.7.</span> <span class="nav-text"></span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ"><span class="nav-number">13.</span> <span class="nav-text">13„ÄÅÁºìÂ≠òÔºà‰∫ÜËß£Ôºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#13-1„ÄÅÁÆÄ‰ªã"><span class="nav-number">13.1.</span> <span class="nav-text">13.1„ÄÅÁÆÄ‰ªã</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-2„ÄÅMybatisÁºìÂ≠ò"><span class="nav-number">13.2.</span> <span class="nav-text">13.2„ÄÅMybatisÁºìÂ≠ò</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-3„ÄÅ"><span class="nav-number">13.3.</span> <span class="nav-text">13.3„ÄÅ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò"><span class="nav-number">13.4.</span> <span class="nav-text">13.4„ÄÅ‰∫åÁ∫ßÁºìÂ≠ò</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-5„ÄÅÁºìÂ≠òÂéüÁêÜ"><span class="nav-number">13.5.</span> <span class="nav-text">13.5„ÄÅÁºìÂ≠òÂéüÁêÜ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache"><span class="nav-number">13.6.</span> <span class="nav-text">13.6„ÄÅËá™ÂÆö‰πâÁºìÂ≠ò-encache</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Zlatanlong"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Zlatanlong</p>
  <div class="site-description" itemprop="description">ÁîüÊ¥ªÂ∞±ÂÉèÂ∑ßÂÖãÂäõüç´</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">36</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">31</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3psYXRhbmxvbmc=" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;zlatanlong"><i class="fa fa-fw fa-github"></i>GitHub</span>
      </span>
      <span class="links-of-author-item">
        <span class="exturl" data-url="bWFpbHRvOmxvbmctdHhnY0Bmb3htYWlsLmNvbQ==" title="E-Mail ‚Üí mailto:long-txgc@foxmail.com"><i class="fa fa-fw fa-envelope"></i>E-Mail</span>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title">
      <i class="fa fa-fw fa-link"></i>
      ÂÖ≥Ê≥®ÂàóË°®
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9sZWZsYWNvbi5naXRodWIuaW8v" title="https:&#x2F;&#x2F;leflacon.github.io&#x2F;">leflacon</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cHM6Ly9ib2Jib3NzLmdpdGh1Yi5pby8=" title="https:&#x2F;&#x2F;bobboss.github.io&#x2F;">BobBoss</span>
        </li>
        <li class="links-of-blogroll-item">
          <span class="exturl" data-url="aHR0cDovL29wdGltaXN0aWNhdC54eXovdXNlcj91c2VySWQ9bHpkY2w=" title="http:&#x2F;&#x2F;optimisticat.xyz&#x2F;user?userId&#x3D;lzdcl">lzdcl</span>
        </li>
    </ul>
  </div>

      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 2018 ‚Äì 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zlatanlong</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
      <span class="post-meta-item-text">Á´ôÁÇπÊÄªÂ≠óÊï∞Ôºö</span>
    <span title="Á´ôÁÇπÊÄªÂ≠óÊï∞">158k</span>
</div>
  <div class="powered-by">Áî± <span class="exturl theme-link" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> Âº∫ÂäõÈ©±Âä® v4.2.1
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">‰∏ªÈ¢ò ‚Äì <span class="exturl theme-link" data-url="aHR0cHM6Ly90aGVtZS1uZXh0Lm9yZw==">NexT.Gemini</span> v7.7.1
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="ÊÄªËÆøÂÆ¢Èáè">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="ÊÄªËÆøÈóÆÈáè">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@latest/canvas-nest-nomobile.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'H5inyassVpcpItLTuMJH9aBg-gzGzoHsz',
      appKey     : 'mBzB6QB3deD6zw8YEIKVQdzz',
      placeholder: "Âø´Êù•ËØ¥‰∏§Âè•Âêß„ÄÇ„ÄÇ„ÄÇ",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
